define(["@jupyter-widgets/base"],(e=>(()=>{var n,t,o,i,s,r,a,c,l,u,d,A,p,f,m,b,g,_,h,v,w,E,x,C,y,k,j,B,D,S,O,I,M,N,L,T,W,V,q,P,U,z={949:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>a});var o=t(864),i=t.n(o),s=t(352),r=t.n(s)()(i());r.push([e.id,'.vegafusion-embed {\n  min-height: 40px;\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n  overflow: visible;\n}\n.vegafusion-embed.has-actions {\n  padding-right: 38px;\n}\n.vegafusion-embed details:not([open]) > :not(summary) {\n  display: none !important;\n}\n.vegafusion-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  outline: none;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vegafusion-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vegafusion-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vegafusion-embed summary svg {\n  width: 16px;\n  height: 16px;\n}\n.vegafusion-embed details[open] summary {\n  opacity: 0.5;\n}\n.vegafusion-embed:hover summary, .vegafusion-embed:focus summary {\n  opacity: 0.7 !important;\n  transition: opacity 0.2s ease;\n}\n.vegafusion-embed .vegafusion-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vegafusion-embed .vegafusion-actions hr {\n  width: auto;\n  height: 1px;\n  border: none;\n  background-color: #434a56;\n  margin: 4px 10px 4px 10px;\n  opacity: 50%;\n}\n.vegafusion-embed .vegafusion-actions .source-msg {\n  padding: 4px 16px;\n  font-family: sans-serif;\n  font-size: 10px;\n  font-weight: 400;\n  max-width: 180px;\n  color: #CD5C5C;\n}\n.vegafusion-embed .vegafusion-actions a {\n  padding: 4px 16px;\n  font-family: sans-serif;\n  font-size: 12px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vegafusion-embed .vegafusion-actions a:hover {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vegafusion-embed .vegafusion-actions::before, .vegafusion-embed .vegafusion-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n  pointer-events: none;\n}\n.vegafusion-embed .vegafusion-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid #0000;\n  border-bottom-color: #d9d9d9;\n}\n.vegafusion-embed .vegafusion-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid #0000;\n  border-bottom-color: #fff;\n}\n.vegafusion-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vegafusion-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vegafusion-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n/*# sourceMappingURL=vegafusion-embed.css.map */\n',"",{version:3,sources:["webpack://./scss/vegafusion-embed.scss","webpack://./css/vegafusion-embed.css"],names:[],mappings:"AAEA;EACE,gBAAA;EACA,kBAAA;EACA,qBAAA;EACA,sBAAA;EACA,iBAAA;ACDF;ADGE;EACE,mBAAA;ACDJ;ADIE;EACE,wBAAA;ACFJ;ADKE;EACE,gBAAA;EACA,kBAAA;EACA,MAAA;EACA,QAAA;EACA,YAAA;EACA,aAAA;EACA,iBAAA;EACA,0CAAA;EACA,cAAA;EACA,sBAAA;EACA,oBAAA;EACA,YAAA;EACA,gCAAA;EACA,aAAA;EACA,eAAA;EACA,gBAAA;ACHJ;ADKI;EACE,aAAA;ACHN;ADMI;EACE,sCAAA;ACJN;ADOI;EACE,WAAA;EACA,YAAA;ACLN;ADSE;EACE,YAAA;ACPJ;ADUE;EAEE,uBAAA;EACA,6BAAA;ACTJ;ADYE;EACE,kBAAA;EACA,aAAA;EACA,SAAA;EACA,WAAA;EACA,aAAA;EACA,sBAAA;EACA,mBAAA;EACA,gBAAA;EACA,kBAAA;EACA,0CAAA;EACA,yBAAA;EACA,iBAAA;EACA,yBAAA;EACA,wBAAA;EACA,0DAAA;EACA,gBAAA;ACVJ;ADYI;EACE,WAAA;EACA,WAAA;EACA,YAAA;EACA,yBAAA;EACA,yBAAA;EACA,YAAA;ACVN;ADaI;EACE,iBAAA;EACA,uBAAA;EACA,eAAA;EACA,gBAAA;EACA,gBAAA;EACA,cAAA;ACXN;ADcI;EACE,iBAAA;EACA,uBAAA;EACA,eAAA;EACA,gBAAA;EACA,mBAAA;EACA,cAAA;EACA,qBAAA;ACZN;ADcM;EACE,yBAAA;EACA,YAAA;ACZR;ADgBI;EAEE,WAAA;EACA,qBAAA;EACA,kBAAA;EACA,oBAAA;ACfN;ADkBI;EACE,UAAA;EACA,WAAA;EACA,UAAA;EACA,uBAAA;EACA,4BAAA;AChBN;ADmBI;EACE,UAAA;EACA,WAAA;EACA,UAAA;EACA,uBAAA;EACA,yBAAA;ACjBN;ADsBI;EACE,WAAA;ACpBN;ADsBI;EACE,YAAA;ACpBN;;ADyBA;EACE,eAAA;EACA,cAAA;EACA,mBAAA;ACtBF;;ADyBA;EACE;IACE,UAAA;IACA,qBAAA;ECtBF;EDyBA;IACE,UAAA;IACA,mBAAA;ECvBF;AACF;;AAEA,+CAA+C",sourceRoot:""}]);const a=r},889:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>a});var o=t(864),i=t.n(o),s=t(352),r=t.n(s)()(i());r.push([e.id,".vegafusion-loading {\n  color: red;\n  background: aqua;\n}\n.vegafusion-loading .inner {\n  width: 100px;\n}\n\n/*# sourceMappingURL=widget.css.map */\n","",{version:3,sources:["webpack://./scss/widget.scss","webpack://./css/widget.css"],names:[],mappings:"AAAA;EACE,UAAA;EACA,gBAAA;ACCF;ADAE;EACE,YAAA;ACEJ;;AAEA,qCAAqC",sourceRoot:""}]);const a=r},352:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",o=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),o&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),o&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,o,i,s){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(r[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);o&&r[u[0]]||(void 0!==s&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=s),t&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=t):u[2]=t),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),n.push(u))}},n}},864:e=>{"use strict";e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),s="/*# ".concat(i," */"),r=t.sources.map((function(e){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(e," */")}));return[n].concat(r).concat([s]).join("\n")}return[n].join("\n")}},926:(e,n,t)=>{var o=t(379),i=t(949);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},204:(e,n,t)=>{var o=t(379),i=t(889);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},379:(e,n,t)=>{"use strict";var o,i=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),s=[];function r(e){for(var n=-1,t=0;t<s.length;t++)if(s[t].identifier===e){n=t;break}return n}function a(e,n){for(var t={},o=[],i=0;i<e.length;i++){var a=e[i],c=n.base?a[0]+n.base:a[0],l=t[c]||0,u="".concat(c," ").concat(l);t[c]=l+1;var d=r(u),A={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(s[d].references++,s[d].updater(A)):s.push({identifier:u,updater:m(A,n),references:1}),o.push(u)}return o}function c(e){var n=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var s=t.nc;s&&(o.nonce=s)}if(Object.keys(o).forEach((function(e){n.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(n);else{var r=i(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}return n}var l,u=(l=[],function(e,n){return l[e]=n,l.filter(Boolean).join("\n")});function d(e,n,t,o){var i=t?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=u(n,i);else{var s=document.createTextNode(i),r=e.childNodes;r[n]&&e.removeChild(r[n]),r.length?e.insertBefore(s,r[n]):e.appendChild(s)}}function A(e,n,t){var o=t.css,i=t.media,s=t.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var p=null,f=0;function m(e,n){var t,o,i;if(n.singleton){var s=f++;t=p||(p=c(n)),o=d.bind(null,t,s,!1),i=d.bind(null,t,s,!0)}else t=c(n),o=A.bind(null,t,n),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return o(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;o(e=n)}else i()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var t=a(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<t.length;o++){var i=r(t[o]);s[i].references--}for(var c=a(e,n),l=0;l<t.length;l++){var u=r(t[l]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}t=c}}}},114:e=>{e.exports='<svg version="1.1" viewBox="0.0 0.0 946.4776902887139 673.4829396325459" fill="none" stroke="none" stroke-linecap="square" stroke-miterlimit="10" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><clipPath id="p.0"><path d="m0 0l946.47766 0l0 673.4829l-946.47766 0l0 -673.4829z" clip-rule="nonzero"></path></clipPath><g clip-path="url(#p.0)"><path fill="#000000" fill-opacity="0.0" d="m0 0l946.47766 0l0 673.4829l-946.47766 0z" fill-rule="evenodd"></path><path fill="#434a56" d="m241.20998 355.4672l228.50392 0l0 318.04727l-228.50392 0z" fill-rule="evenodd"></path><path fill="#434a56" d="m601.9989 0l-65.49762 177.0l343.29565 0.9973755l65.87903 -177.99738z" fill-rule="evenodd"></path><path fill="#434a56" d="m505.0006 317.5013l-42.4993 177.0l302.89688 0.15222168l64.59503 -177.88187z" fill-rule="evenodd"></path><path fill="#434a56" d="m0.46194226 -0.04330709l240.56693 673.5696l127.509186 -285.16272l-140.021 -388.40683z" fill-rule="evenodd"></path><path fill="#434a56" d="m712.8845 -0.01968504l-242.1799 673.54333l-229.69412 0l242.1799 -673.54333z" fill-rule="evenodd"></path></g></svg>'},820:(e,n,t)=>{"use strict";t.r(n),t.d(n,{MODULE_NAME:()=>s,MODULE_VERSION:()=>i,VegaFusionModel:()=>u,VegaFusionView:()=>d});const o=t(147),i=o.version,s=o.name;var r=t(146),a=(t(204),t(926),t(114)),c=t.n(a);const l={CLICK_TO_VIEW_ACTIONS:"Click to view actions",PNG_ACTION:"Save as PNG",SVG_ACTION:"Save as SVG"};class u extends r.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:u.model_name,_model_module:u.model_module,_model_module_version:u.model_module_version,_view_name:u.view_name,_view_module:u.view_module,_view_module_version:u.view_module_version,spec:null,full_vega_spec:null,client_vega_spec:null,server_vega_spec:null,vegafusion_handle:null,verbose:null,debounce_wait:30,debounce_max_wait:60,download_source_link:null,_request_msg:null,_response_msg:null})}}u.serializers=Object.assign(Object.assign({},r.DOMWidgetModel.serializers),{_request_msg:{serialize:e=>e.buffer?new DataView(e.buffer.slice(0)):null}}),u.model_name="VegaFusionModel",u.model_module=s,u.model_module_version=i,u.view_name="VegaFusionView",u.view_module=s,u.view_module_version=i;class d extends r.DOMWidgetView{constructor(){super(...arguments),this.viewElement=document.createElement("div"),this.containerElement=document.createElement("div"),this.menuElement=document.createElement("div")}generate_menu(){const e=document.createElement("details");e.title=l.CLICK_TO_VIEW_ACTIONS;const n=document.createElement("summary");n.innerHTML=c(),e.append(n),document.addEventListener("click",(n=>{e.contains(n.target)||e.removeAttribute("open")}));const t=document.createElement("div");e.append(t),t.classList.add("vegafusion-actions");for(const e of["svg","png"]){let n=1;const o=l[`${e.toUpperCase()}_ACTION`],i=document.createElement("a");i.text=o,i.href="#",i.target="_blank",i.download=`visualization.${e}`,i.title="";let s=this;i.addEventListener("mousedown",(async function(t){t.preventDefault(),s.vegafusion_handle&&(this.href=await s.vegafusion_handle.to_image_url(e,n))})),t.append(i)}t.append(document.createElement("hr"));const o=document.createElement("a"),i="https://vegafusion.io/";o.text="About VegaFusion",o.href=i,o.target="_blank",o.title=i,t.append(o);const s=document.createElement("a"),r="https://www.gnu.org/licenses/agpl-3.0.en.html";s.text="AGPLv3 License",s.href=r,s.target="_blank",s.title=r,t.append(s);const a=this.model.get("download_source_link");if(a){const e=document.createElement("a");e.text="Download Source",e.href=a,e.target="_blank",e.title=a,t.append(e)}else{const e=document.createElement("p");e.classList.add("source-msg"),e.textContent="VegaFusion's AGPLv3 license requires the author to provide this application's source code upon request",e.title="",t.append(e)}return e}async render(){const{render_vegafusion:e}=await Promise.all([t.e(653),t.e(594)]).then(t.bind(t,594));this.render_vegafusion=e;const{compile:n}=await t.e(647).then(t.bind(t,647));this.vegalite_compile=n,this.containerElement.appendChild(this.viewElement),this.containerElement.classList.add("chart-wrapper"),this.el.appendChild(this.containerElement),this.el.appendChild(this.menuElement),this.el.classList.add("vegafusion-embed"),this.el.classList.add("has-actions"),this.value_changed(),this.model.on("change:spec",this.value_changed,this),this.model.on("change:verbose",this.value_changed,this),this.model.on("change:debounce_wait",this.value_changed,this),this.model.on("change:debounce_max_wait",this.value_changed,this),this.model.on("change:download_source_link",this.value_changed,this),this.model.on("change:_response_msg",(()=>{const e=this.model.get("_response_msg");if(null!==e){this.model.get("verbose")&&(console.log("VegaFusion(js): Received response"),console.log(e.buffer));const n=new Uint8Array(e.buffer);this.vegafusion_handle.receive(n)}}))}value_changed(){for(;this.menuElement.lastChild;)this.menuElement.removeChild(this.menuElement.lastChild);this.menuElement.appendChild(this.generate_menu());let e=this.model.get("spec");if(null!==e){let n,t=JSON.parse(e);if(t.$schema.endsWith("schema/vega/v5.json"))n=e;else{let e=this.vegalite_compile(t);n=JSON.stringify(e.spec)}this.vegafusion_handle=this.render_vegafusion(this.viewElement,n,this.model.get("verbose")||!1,this.model.get("debounce_wait")||30,this.model.get("debounce_max_wait"),(e=>{this.model.get("verbose")&&console.log("VegaFusion(js): Send request"),this.model.set("_request_msg",new DataView(e.buffer)),this.touch(),this.model.set("_request_msg",{})})),this.model.set("full_vega_spec",n),this.model.set("client_vega_spec",this.vegafusion_handle.client_spec_json()),this.model.set("server_vega_spec",this.vegafusion_handle.server_spec_json()),this.model.set("comm_plan",this.vegafusion_handle.comm_plan_json()),this.touch()}}}window.__webpack_public_path__=document.querySelector("body").getAttribute("data-base-url")+"nbextensions/vegafusion-jupyter/"},146:n=>{"use strict";n.exports=e},147:e=>{"use strict";e.exports=JSON.parse('{"name":"vegafusion-jupyter","version":"0.0.3","description":"Altair Jupyter Widget library that relies on VegaFusion for serverside calculations","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","dist/*.js","dist/*.wasm","css/*.css","css/*.scss","images/*.svg"],"homepage":"https://github.com/vegafusion/vegafusion","bugs":{"url":"https://github.com/vegafusion/vegafusion/issues"},"license":"AGPL-3.0-or-later","author":{"name":"Jon Mease","email":"jonmmease@gmail.com"},"main":"lib/index.js","types":"./lib/index.d.ts","repository":{"type":"git","url":"https://github.com/jonmmease/vegafusion"},"scripts":{"build":"npm run build:lib && npm run build:nbextension && npm run build:labextension:dev","build:prod":"npm run clean && npm run build:lib && npm run build:nbextension && npm run build:labextension","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","build:lib":"tsc && sass scss:css","build:nbextension":"webpack","clean":"npm run clean:lib && npm run clean:nbextension && npm run clean:labextension","clean:lib":"rimraf lib","clean:labextension":"rimraf vegafusion_jupyter/labextension","clean:nbextension":"rimraf vegafusion_jupyter/nbextension/* && cp src/nbextension/extension.js vegafusion_jupyter/nbextension/","lint":"eslint . --ext .ts,.tsx --fix","lint:check":"eslint . --ext .ts,.tsx","prepack":"npm run build:lib","test":"jest","watch":"npm-run-all -p watch:*","watch:lib":"tsc -w","watch:nbextension":"webpack --watch --mode=development","watch:labextension":"jupyter labextension watch ."},"dependencies":{"@jupyter-widgets/base":"^1.1.10 || ^2.0.0 || ^3.0.0 || ^4.0.0","@jupyterlab/notebook":"^3.0.0 || ^4.0.0","marked":"^4.0.10","vega-lite":"^4.17.0","vegafusion-wasm":"../../vegafusion-wasm/pkg"},"devDependencies":{"@babel/core":"^7.5.0","@babel/preset-env":"^7.5.0","@jupyterlab/builder":"^3.0.0","@phosphor/application":"^1.6.0","@phosphor/widgets":"^1.6.0","@types/jest":"^26.0.0","@types/webpack-env":"^1.16.3","@typescript-eslint/eslint-plugin":"^3.6.0","@typescript-eslint/parser":"^3.6.0","acorn":"^7.2.0","css-loader":"6.5.1","eslint":"^7.4.0","eslint-config-prettier":"^6.11.0","eslint-plugin-prettier":"^3.1.4","fs-extra":"^7.0.0","identity-obj-proxy":"^3.0.0","jest":"^26.0.0","mkdirp":"^0.5.1","npm-run-all":"^4.1.3","prettier":"^2.0.5","rimraf":"^2.6.2","sass":"^1.45.2","source-map-loader":"^1.1.3","style-loader":"^1.0.0","svg-inline-loader":"^0.8.2","ts-jest":"^26.0.0","ts-loader":"^8.0.0","typescript":"~4.1.3","webpack":"^5.65.0","webpack-cli":"^4.9.1","webpack-require-from":"^1.8.6"},"jupyterlab":{"extension":"lib/plugin","outputDir":"vegafusion_jupyter/labextension/","webpackConfig":"webpack.config.experimental.js","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true}}}}')}},F={};function J(e){var n=F[e];if(void 0!==n)return n.exports;var t=F[e]={id:e,loaded:!1,exports:{}};return z[e].call(t.exports,t,t.exports,J),t.loaded=!0,t.exports}return J.m=z,J.c=F,J.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return J.d(n,{a:n}),n},J.d=(e,n)=>{for(var t in n)J.o(n,t)&&!J.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},J.f={},J.e=e=>Promise.all(Object.keys(J.f).reduce(((n,t)=>(J.f[t](e,n),n)),[])),J.u=e=>e+".index.js",J.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),J.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),J.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),n={},t="vegafusion-jupyter:",J.l=(e,o,i,s)=>{if(n[e])n[e].push(o);else{var r,a;if(void 0!==i)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==t+i){r=u;break}}r||(a=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,J.nc&&r.setAttribute("nonce",J.nc),r.setAttribute("data-webpack",t+i),r.src=e),n[e]=[o];var d=(t,o)=>{r.onerror=r.onload=null,clearTimeout(A);var i=n[e];if(delete n[e],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((e=>e(o))),t)return t(o)},A=setTimeout(d.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=d.bind(null,r.onerror),r.onload=d.bind(null,r.onload),a&&document.head.appendChild(r)}},J.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},J.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),J.p="",Object.defineProperty(J,"p",{get:function(){try{if("string"!=typeof __webpack_public_path__)throw new Error("WebpackRequireFrom: '__webpack_public_path__' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");return __webpack_public_path__}catch(e){return console.error(e),""}},set:function(e){console.warn("WebpackRequireFrom: something is trying to override webpack public path. Ignoring the new value"+e+".")}}),(()=>{var e={179:0};J.f.j=(n,t)=>{var o=J.o(e,n)?e[n]:void 0;if(0!==o)if(o)t.push(o[2]);else{var i=new Promise(((t,i)=>o=e[n]=[t,i]));t.push(o[2]=i);var s=J.p+J.u(n),r=new Error;J.l(s,(t=>{if(J.o(e,n)&&(0!==(o=e[n])&&(e[n]=void 0),o)){var i=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;r.message="Loading chunk "+n+" failed.\n("+i+": "+s+")",r.name="ChunkLoadError",r.type=i,r.request=s,o[1](r)}}),"chunk-"+n,n)}};var n=(n,t)=>{var o,i,[s,r,a]=t,c=0;if(s.some((n=>0!==e[n]))){for(o in r)J.o(r,o)&&(J.m[o]=r[o]);a&&a(J)}for(n&&n(t);c<s.length;c++)i=s[c],J.o(e,i)&&e[i]&&e[i][0](),e[i]=0},t=self.webpackChunkvegafusion_jupyter=self.webpackChunkvegafusion_jupyter||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})(),q={},P={724:function(){return{"./vegafusion_wasm_bg.js":{__wbindgen_object_drop_ref:function(e){return void 0===o&&(o=J.c[336].exports),o.ug(e)},__wbindgen_json_parse:function(e,n){return void 0===i&&(i=J.c[336].exports),i.t$(e,n)},__wbindgen_json_serialize:function(e,n){return void 0===s&&(s=J.c[336].exports),s.r1(e,n)},__wbg_log_af0925e4c03d7e23:function(e,n){return void 0===r&&(r=J.c[336].exports),r.W8(e,n)},__wbg_setSignalValue_8c0648aba8dcfcc3:function(e,n,t,o,i,s){return void 0===a&&(a=J.c[336].exports),a.EL(e,n,t,o,i,s)},__wbg_setDataValue_d3c871d445882119:function(e,n,t,o,i,s){return void 0===c&&(c=J.c[336].exports),c.i(e,n,t,o,i,s)},__wbg_run_bd38fdffb247d742:function(e){return void 0===l&&(l=J.c[336].exports),l.AR(e)},__wbg_toImageURL_8c58bd20cb4d9a5c:function(e,n,t,o){return void 0===u&&(u=J.c[336].exports),u.Jj(e,n,t,o)},__wbg_parse_9784976cdb9faedb:function(e){return void 0===d&&(d=J.c[336].exports),d.gG(e)},__wbg_new_a050eb2bd124e488:function(e){return void 0===A&&(A=J.c[336].exports),A.s8(e)},__wbg_initialize_67611684b5013830:function(e,n){return void 0===p&&(p=J.c[336].exports),p.Ex(e,n)},__wbg_hover_ee57b0b3a4c7d3a3:function(e){return void 0===f&&(f=J.c[336].exports),f.SH(e)},__wbg_setupTooltip_eabb345a88f5a3ac:function(e){return void 0===m&&(m=J.c[336].exports),m.Pr(e)},__wbindgen_object_clone_ref:function(e){return void 0===b&&(b=J.c[336].exports),b.m_(e)},__wbg_addSignalListener_441146747c85180b:function(e,n,t,o,i,s,r,a,c){return void 0===g&&(g=J.c[336].exports),g.HO(e,n,t,o,i,s,r,a,c)},__wbg_addDataListener_2b7de08da42d86df:function(e,n,t,o,i,s,r,a,c){return void 0===_&&(_=J.c[336].exports),_.zD(e,n,t,o,i,s,r,a,c)},__wbg_new_693216e109162396:function(){return void 0===h&&(h=J.c[336].exports),h.Ih()},__wbg_stack_0ddaca5d1abfb52f:function(e,n){return void 0===v&&(v=J.c[336].exports),v.yq(e,n)},__wbg_error_09919627ac0992f5:function(e,n){return void 0===w&&(w=J.c[336].exports),w.gk(e,n)},__wbg_instanceof_Window_c4b70662a0d2c5ec:function(e){return void 0===E&&(E=J.c[336].exports),E.Um(e)},__wbg_document_1c64944725c0d81d:function(e){return void 0===x&&(x=J.c[336].exports),x.WS(e)},__wbg_newnoargs_be86524d73f67598:function(e,n){return void 0===C&&(C=J.c[336].exports),C.wg(e,n)},__wbg_call_888d259a5fefc347:function(e,n){return void 0===y&&(y=J.c[336].exports),y.BT(e,n)},__wbg_call_346669c262382ad7:function(e,n,t){return void 0===k&&(k=J.c[336].exports),k.Ms(e,n,t)},__wbg_self_c6fbdfc2918d5e58:function(){return void 0===j&&(j=J.c[336].exports),j.JX()},__wbg_window_baec038b5ab35c54:function(){return void 0===B&&(B=J.c[336].exports),B.xd()},__wbg_globalThis_3f735a5746d41fbd:function(){return void 0===D&&(D=J.c[336].exports),D.ud()},__wbg_global_1bc0b39582740e95:function(){return void 0===S&&(S=J.c[336].exports),S.PT()},__wbindgen_is_undefined:function(e){return void 0===O&&(O=J.c[336].exports),O.XP(e)},__wbg_buffer_397eaa4d72ee94dd:function(e){return void 0===I&&(I=J.c[336].exports),I.jp(e)},__wbg_newwithbyteoffsetandlength_4b9b8c4e3f5adbff:function(e,n,t){return void 0===M&&(M=J.c[336].exports),M.WK(e,n,t)},__wbg_new_a7ce447f15ff496f:function(e){return void 0===N&&(N=J.c[336].exports),N.y4(e)},__wbindgen_debug_string:function(e,n){return void 0===L&&(L=J.c[336].exports),L.fY(e,n)},__wbindgen_throw:function(e,n){return void 0===T&&(T=J.c[336].exports),T.Or(e,n)},__wbindgen_memory:function(){return void 0===W&&(W=J.c[336].exports),W.oH()},__wbindgen_closure_wrapper1042:function(e,n,t){return void 0===V&&(V=J.c[336].exports),V.V(e,n,t)}}}}},U={594:[724]},J.w={},J.f.wasm=function(e,n){(U[e]||[]).forEach((function(t,o){var i=q[t];if(i)n.push(i);else{var s,r=P[t](),a=fetch(J.p+""+{594:{724:"6500ae7cbe67dcf149b2"}}[e][t]+".module.wasm");s=r&&"function"==typeof r.then&&"function"==typeof WebAssembly.compileStreaming?Promise.all([WebAssembly.compileStreaming(a),r]).then((function(e){return WebAssembly.instantiate(e[0],e[1])})):"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(a,r):a.then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.instantiate(e,r)})),n.push(q[t]=s.then((function(e){return J.w[t]=(e.instance||e).exports})))}}))},J(820)})()));
//# sourceMappingURL=index.js.map