"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[1090],{662276:(e,t,r)=>{r.d(t,{S:()=>s,M:()=>i});var o,a=r(711448),n=r(751995);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=a.Z.RangePicker,s=(0,n.iK)(l)`
  border-radius: ${({theme:e})=>e.gridUnit}px;
`,i=a.Z;var c,d;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(l,"AntdRangePicker","/Users/chenming/PycharmProjects/superset/superset-frontend/src/components/DatePicker/index.tsx"),c.register(s,"RangePicker","/Users/chenming/PycharmProjects/superset/superset-frontend/src/components/DatePicker/index.tsx"),c.register(i,"DatePicker","/Users/chenming/PycharmProjects/superset/superset-frontend/src/components/DatePicker/index.tsx")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},976697:(e,t,r)=>{r.d(t,{Z:()=>l});var o,a=r(219181);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n=a.Z,l=n;var s,i;(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(n,"default","/Users/chenming/PycharmProjects/superset/superset-frontend/src/components/Popover/index.tsx"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},482342:(e,t,r)=>{r.d(t,{Z:()=>h}),r(667294);var o,a=r(751995),n=r(211965),l=r(455867),s=r(409882),i=r(358593),c=r(558347),d=r(87693);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},p={name:"8wgs83",styles:"margin-bottom:0;position:relative"};const m=({name:e,label:t,description:r,validationErrors:o=[],renderTrigger:u=!1,rightNode:m,leftNode:f,onClick:h,hovered:g=!1,tooltipOnClick:v=(()=>{}),warning:b,danger:y})=>{const{gridUnit:Z,colors:L}=(0,a.Fg)();if(!t)return null;const C=(null==o?void 0:o.length)>0?"text-danger":"";return(0,n.tZ)("div",{className:"ControlHeader","data-test":`${e}-header`},(0,n.tZ)("div",{className:"pull-left"},(0,n.tZ)(c.lX,{css:p},f&&(0,n.tZ)("span",null,f),(0,n.tZ)("span",{role:"button",tabIndex:0,onClick:h,className:C,style:{cursor:h?"pointer":""}},t)," ",b&&(0,n.tZ)("span",null,(0,n.tZ)(i.u,{id:"error-tooltip",placement:"top",title:b},(0,n.tZ)(d.Z.AlertSolid,{iconColor:L.alert.base,iconSize:"s"}))," "),y&&(0,n.tZ)("span",null,(0,n.tZ)(i.u,{id:"error-tooltip",placement:"top",title:y},(0,n.tZ)(d.Z.ErrorSolid,{iconColor:L.error.base,iconSize:"s"}))," "),(null==o?void 0:o.length)>0&&(0,n.tZ)("span",null,(0,n.tZ)(i.u,{id:"error-tooltip",placement:"top",title:null==o?void 0:o.join(" ")},(0,n.tZ)(d.Z.ErrorSolid,{iconColor:L.error.base,iconSize:"s"}))," "),g?(0,n.tZ)("span",{css:()=>n.iv`
          position: absolute;
          top: 50%;
          right: 0;
          padding-left: ${Z}px;
          transform: translate(100%, -50%);
          white-space: nowrap;
        `},r&&(0,n.tZ)("span",null,(0,n.tZ)(s.V,{label:(0,l.t)("description"),tooltip:r,placement:"top",onClick:v})," "),u&&(0,n.tZ)("span",null,(0,n.tZ)(s.V,{label:(0,l.t)("bolt"),tooltip:(0,l.t)("Changing this control takes effect instantly"),placement:"top",icon:"bolt"})," ")):null)),m&&(0,n.tZ)("div",{className:"pull-right"},m),(0,n.tZ)("div",{className:"clearfix"}))};u(m,"useTheme{{ gridUnit, colors }}",(()=>[a.Fg]));const f=m,h=f;var g,v;(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(m,"ControlHeader","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/ControlHeader.tsx"),g.register(f,"default","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/ControlHeader.tsx")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)},465509:(e,t,r)=>{r.d(t,{ZP:()=>_});var o,a=r(205872),n=r.n(a),l=r(667294),s=r(115926),i=r.n(s),c=r(431069),d=r(751995),u=r(455867),p=r(216636),m=r(998286),f=r(835932),h=r(482342),g=r(737921),v=r(976697),b=r(582191),y=r(87693),Z=r(281315),L=r(358593),C=r(269856),G=r(112515),P=r(427600),D=r(653350),x=r(134261),H=r(826564),T=r(51217),F=r(849225),E=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,r(211965));e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const S=e=>p.MI.has(e)?"Common":p.gn.has(e)?"Calendar":"No filter"===e?"No filter":(0,p.c_)(e).matchedFlag?"Custom":"Advanced",U=async(e,t)=>{const r=`/api/v1/time_range/?q=${i().encode_uri(e)}`;try{var o,a,n,l;const e=await c.Z.get({endpoint:r}),s=(0,p.mv)((null==e||null==(o=e.json)||null==(a=o.result)?void 0:a.since)||"",(null==e||null==(n=e.json)||null==(l=n.result)?void 0:l.until)||"");return{value:(0,p.ns)(s,t)}}catch(e){const t=await(0,m.O)(e);return{error:t.message||t.error}}},N=(0,d.iK)(v.Z)``,j=(0,d.iK)(Z.Z)`
  width: 272px;
`,A=d.iK.div`
  .ant-row {
    margin-top: 8px;
  }

  .ant-input-number {
    width: 100%;
  }

  .ant-picker {
    padding: 4px 17px 4px;
    border-radius: 4px;
    width: 100%;
  }

  .ant-divider-horizontal {
    margin: 16px 0;
  }

  .control-label {
    font-size: 11px;
    font-weight: 500;
    color: #b2b2b2;
    line-height: 16px;
    text-transform: uppercase;
    margin: 8px 0;
  }

  .vertical-radio {
    display: block;
    height: 40px;
    line-height: 40px;
  }

  .section-title {
    font-style: normal;
    font-weight: 500;
    font-size: 15px;
    line-height: 24px;
    margin-bottom: 8px;
  }

  .control-anchor-to {
    margin-top: 16px;
  }

  .control-anchor-to-datetime {
    width: 217px;
  }

  .footer {
    text-align: right;
  }
`,w=d.iK.span`
  span {
    margin-right: ${({theme:e})=>2*e.gridUnit}px;
    vertical-align: middle;
  }
  .text {
    vertical-align: middle;
  }
  .error {
    color: ${({theme:e})=>e.colors.error.base};
  }
`,R="date-filter-control",I=(0,D.Q)(R);function _(e){const{value:t=C.X5,endpoints:r,onChange:o,type:a}=e,[s,i]=(0,l.useState)(t),[c,m]=(0,l.useState)(!1),v=(0,l.useMemo)((()=>S(t)),[t]),[D,M]=(0,l.useState)(v),[R,_]=(0,l.useState)(t),[k,$]=(0,l.useState)(t),[V,O]=(0,l.useState)(!1),[Y,K]=(0,l.useState)(t),[X,z]=(0,l.useState)(t);function W(){$(t),M(v),m(!1)}(0,l.useEffect)((()=>{U(t,r).then((({value:e,error:r})=>{r?(K(r||""),O(!1),z(t||"")):("Common"===v||"Calendar"===v||"No filter"===v?(i(t),z("error"===a?(0,u.t)("Default value is required"):e||"")):(i(e||""),z(t||"")),O(!0)),_(t)}))}),[t]),(0,G.bX)((()=>{R!==k&&U(k,r).then((({value:e,error:t})=>{t?(K(t||""),O(!1)):(K(e||""),O(!0)),_(k)}))}),P.M$,[k]);const q=(0,d.Fg)(),J=(0,E.tZ)(A,null,(0,E.tZ)("div",{className:"control-label"},(0,u.t)("RANGE TYPE")),(0,E.tZ)(j,{ariaLabel:(0,u.t)("RANGE TYPE"),options:p.un,value:D,onChange:function(e){"No filter"===e&&$("No filter"),M(e)},sortComparator:(0,Z.m)("order")}),"No filter"!==D&&(0,E.tZ)(b.iz,null),"Common"===D&&(0,E.tZ)(x.G,{value:k,onChange:$}),"Calendar"===D&&(0,E.tZ)(H.M,{value:k,onChange:$}),"Advanced"===D&&(0,E.tZ)(F.v,{value:k,onChange:$}),"Custom"===D&&(0,E.tZ)(T.e,{value:k,onChange:$}),"No filter"===D&&(0,E.tZ)("div",{"data-test":"no-filter"}),(0,E.tZ)(b.iz,null),(0,E.tZ)("div",null,(0,E.tZ)("div",{className:"section-title"},(0,u.t)("Actual time range")),V&&(0,E.tZ)("div",null,Y),!V&&(0,E.tZ)(w,{className:"warning"},(0,E.tZ)(y.Z.ErrorSolidSmall,{iconColor:q.colors.error.base}),(0,E.tZ)("span",{className:"text error"},Y))),(0,E.tZ)(b.iz,null),(0,E.tZ)("div",{className:"footer"},(0,E.tZ)(f.Z,{buttonStyle:"secondary",cta:!0,key:"cancel",onClick:W,"data-test":"cancel-button"},(0,u.t)("CANCEL")),(0,E.tZ)(f.Z,n()({buttonStyle:"primary",cta:!0,disabled:!V,key:"apply",onClick:function(){o(k),m(!1)}},I("apply-button")),(0,u.t)("APPLY")))),Q=(0,E.tZ)(w,null,(0,E.tZ)(y.Z.EditAlt,{iconColor:q.colors.grayscale.base}),(0,E.tZ)("span",{className:"text"},(0,u.t)("Edit time range")));return(0,E.tZ)(l.Fragment,null,(0,E.tZ)(h.Z,e),(0,E.tZ)(N,{placement:"right",trigger:"click",content:J,title:Q,defaultVisible:c,visible:c,onVisibleChange:()=>{c?W():m(!0)},overlayStyle:{width:"600px"}},(0,E.tZ)(L.u,{placement:"top",title:X},(0,E.tZ)(g.Z,{className:"pointer","data-test":"time-range-trigger",onClick:function(){$(t),M(v),m(!0)}},s))))}var k,$;M(_,"useState{[actualTimeRange, setActualTimeRange](value)}\nuseState{[show, setShow](false)}\nuseMemo{guessedFrame}\nuseState{[frame, setFrame](guessedFrame)}\nuseState{[lastFetchedTimeRange, setLastFetchedTimeRange](value)}\nuseState{[timeRangeValue, setTimeRangeValue](value)}\nuseState{[validTimeRange, setValidTimeRange](false)}\nuseState{[evalResponse, setEvalResponse](value)}\nuseState{[tooltipTitle, setTooltipTitle](value)}\nuseEffect{}\nuseDebouncedEffect{}\nuseTheme{theme}",(()=>[G.bX,d.Fg])),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(S,"guessFrame","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx"),k.register(U,"fetchTimeRange","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx"),k.register(N,"StyledPopover","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx"),k.register(j,"StyledRangeType","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx"),k.register(A,"ContentStyleWrapper","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx"),k.register(w,"IconWrapper","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx"),k.register(R,"DATE_FILTER_CONTROL_TEST_ID","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx"),k.register(I,"getDateFilterControlTestId","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx"),k.register(_,"DateFilterLabel","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx")),($="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&$(e)},849225:(e,t,r)=>{r.d(t,{v:()=>m});var o,a,n,l=r(667294),s=r(455867),i=r(216636),c=r(582191),d=r(409882),u=r(393879),p=r(211965);function m(e){const t=a(e.value||""),[r,o]=t.split(i.UD);function a(e){return e.includes(i.UD)?e:e.startsWith("Last")?[e,""].join(i.UD):e.startsWith("Next")?["",e].join(i.UD):i.UD}function n(t,a){"since"===t?e.onChange(`${a}${i.UD}${o}`):e.onChange(`${r}${i.UD}${a}`)}return t!==e.value&&e.onChange(a(e.value||"")),(0,p.tZ)(l.Fragment,null,(0,p.tZ)("div",{className:"section-title"},(0,s.t)("Configure Advanced Time Range "),(0,p.tZ)(u.Z,{placement:"rightBottom"},(0,p.tZ)("i",{className:"fa fa-info-circle text-muted"}))),(0,p.tZ)("div",{className:"control-label"},(0,s.t)("START (INCLUSIVE)")," ",(0,p.tZ)(d.V,{tooltip:(0,s.t)("Start date included in time range"),placement:"right"})),(0,p.tZ)(c.II,{key:"since",value:r,onChange:e=>n("since",e.target.value)}),(0,p.tZ)("div",{className:"control-label"},(0,s.t)("END (EXCLUSIVE)")," ",(0,p.tZ)(d.V,{tooltip:(0,s.t)("End date excluded from time range"),placement:"right"})),(0,p.tZ)(c.II,{key:"until",value:o,onChange:e=>n("until",e.target.value)}))}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(m,"AdvancedFrame","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/components/AdvancedFrame.tsx"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},826564:(e,t,r)=>{r.d(t,{M:()=>p});var o,a,n,l=r(667294),s=r(455867),i=r(287183),c=r(216636),d=r(831209),u=r(211965);function p({onChange:e,value:t}){return(0,l.useEffect)((()=>{c.LY.has(t)||e(d.gT)}),[e,t]),c.LY.has(t)?(0,u.tZ)(l.Fragment,null,(0,u.tZ)("div",{className:"section-title"},(0,s.t)("Configure Time Range: Previous...")),(0,u.tZ)(i.Y.Group,{value:t,onChange:t=>e(t.target.value)},c._S.map((({value:e,label:t})=>(0,u.tZ)(i.Y,{key:e,value:e,className:"vertical-radio"},t))))):null}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(p,"useEffect{}"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(p,"CalendarFrame","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/components/CalendarFrame.tsx"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},134261:(e,t,r)=>{r.d(t,{G:()=>u});var o,a,n,l=r(667294),s=r(455867),i=r(287183),c=r(216636),d=r(211965);function u(e){let t="Last week";return c.bk.has(e.value)?t=e.value:e.onChange(t),(0,d.tZ)(l.Fragment,null,(0,d.tZ)("div",{className:"section-title"},(0,s.t)("Configure Time Range: Last...")),(0,d.tZ)(i.Y.Group,{value:t,onChange:t=>e.onChange(t.target.value)},c.Sm.map((({value:e,label:t})=>(0,d.tZ)(i.Y,{key:e,value:e,className:"vertical-radio"},t)))))}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(u,"CommonFrame","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/components/CommonFrame.tsx"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},51217:(e,t,r)=>{r.d(t,{e:()=>h});var o,a=r(593754),n=r.n(a),l=(r(667294),r(455867)),s=r(582191),i=r(662276),c=r(287183),d=r(281315),u=r(409882),p=r(216636),m=r(211965);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const f=(0,d.m)("order");function h(e){const{customRange:t,matchedFlag:r}=(0,p.c_)(e.value);r||e.onChange((0,p.jK)(t));const{sinceDatetime:o,sinceMode:a,sinceGrain:h,sinceGrainValue:g,untilDatetime:v,untilMode:b,untilGrain:y,untilGrainValue:Z,anchorValue:L,anchorMode:C}={...t};function G(r,o){e.onChange((0,p.jK)({...t,[r]:o}))}function P(r,o){n()(o)&&o>0&&e.onChange((0,p.jK)({...t,[r]:o}))}return(0,m.tZ)("div",{"data-test":"custom-frame"},(0,m.tZ)("div",{className:"section-title"},(0,l.t)("Configure custom time range")),(0,m.tZ)(s.X2,{gutter:24},(0,m.tZ)(s.JX,{span:12},(0,m.tZ)("div",{className:"control-label"},(0,l.t)("START (INCLUSIVE)")," ",(0,m.tZ)(u.V,{tooltip:(0,l.t)("Start date included in time range"),placement:"right"})),(0,m.tZ)(d.Z,{ariaLabel:(0,l.t)("START (INCLUSIVE)"),options:p._d,value:a,onChange:e=>G("sinceMode",e),sortComparator:f}),"specific"===a&&(0,m.tZ)(s.X2,null,(0,m.tZ)(i.M,{showTime:!0,defaultValue:(0,p.DL)(o),onChange:e=>G("sinceDatetime",e.format(p.KZ)),allowClear:!1})),"relative"===a&&(0,m.tZ)(s.X2,{gutter:8},(0,m.tZ)(s.JX,{span:11},(0,m.tZ)(s.Rn,{placeholder:(0,l.t)("Relative quantity"),value:Math.abs(g),min:1,defaultValue:1,onChange:e=>P("sinceGrainValue",e||1),onStep:e=>P("sinceGrainValue",e||1)})),(0,m.tZ)(s.JX,{span:13},(0,m.tZ)(d.Z,{ariaLabel:(0,l.t)("Relative period"),options:p.kj,value:h,onChange:e=>G("sinceGrain",e),sortComparator:f})))),(0,m.tZ)(s.JX,{span:12},(0,m.tZ)("div",{className:"control-label"},(0,l.t)("END (EXCLUSIVE)")," ",(0,m.tZ)(u.V,{tooltip:(0,l.t)("End date excluded from time range"),placement:"right"})),(0,m.tZ)(d.Z,{ariaLabel:(0,l.t)("END (EXCLUSIVE)"),options:p.hj,value:b,onChange:e=>G("untilMode",e),sortComparator:f}),"specific"===b&&(0,m.tZ)(s.X2,null,(0,m.tZ)(i.M,{showTime:!0,defaultValue:(0,p.DL)(v),onChange:e=>G("untilDatetime",e.format(p.KZ)),allowClear:!1})),"relative"===b&&(0,m.tZ)(s.X2,{gutter:8},(0,m.tZ)(s.JX,{span:11},(0,m.tZ)(s.Rn,{placeholder:(0,l.t)("Relative quantity"),value:Z,min:1,defaultValue:1,onChange:e=>P("untilGrainValue",e||1),onStep:e=>P("untilGrainValue",e||1)})),(0,m.tZ)(s.JX,{span:13},(0,m.tZ)(d.Z,{ariaLabel:(0,l.t)("Relative period"),options:p.Ae,value:y,onChange:e=>G("untilGrain",e),sortComparator:f}))))),"relative"===a&&"relative"===b&&(0,m.tZ)("div",{className:"control-anchor-to"},(0,m.tZ)("div",{className:"control-label"},(0,l.t)("Anchor to")),(0,m.tZ)(s.X2,{align:"middle"},(0,m.tZ)(s.JX,null,(0,m.tZ)(c.Y.Group,{onChange:function(r){const o=r.target.value;"now"===o?e.onChange((0,p.jK)({...t,anchorValue:"now",anchorMode:o})):e.onChange((0,p.jK)({...t,anchorValue:p.V7,anchorMode:o}))},defaultValue:"now",value:C},(0,m.tZ)(c.Y,{key:"now",value:"now"},(0,l.t)("NOW")),(0,m.tZ)(c.Y,{key:"specific",value:"specific"},(0,l.t)("Date/Time")))),"now"!==C&&(0,m.tZ)(s.JX,null,(0,m.tZ)(i.M,{showTime:!0,defaultValue:(0,p.DL)(L),onChange:e=>G("anchorValue",e.format(p.KZ)),allowClear:!1,className:"control-anchor-to-datetime"})))))}var g,v;(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(f,"sortComparator","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/components/CustomFrame.tsx"),g.register(h,"CustomFrame","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/components/CustomFrame.tsx")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)},393879:(e,t,r)=>{r.d(t,{Z:()=>f});var o,a=r(205872),n=r.n(a),l=r(667294),s=r(455867),i=r(751995),c=r(358593),d=r(211965);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const p=(0,d.tZ)(l.Fragment,null,(0,d.tZ)("div",null,(0,d.tZ)("h3",null,"DATETIME"),(0,d.tZ)("p",null,(0,s.t)("Return to specific datetime.")),(0,d.tZ)("h4",null,(0,s.t)("Syntax")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,"datetime([string])")),(0,d.tZ)("h4",null,(0,s.t)("Example")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,'datetime("2020-03-01 12:00:00")\ndatetime("now")\ndatetime("last year")'))),(0,d.tZ)("div",null,(0,d.tZ)("h3",null,"DATEADD"),(0,d.tZ)("p",null,(0,s.t)("Moves the given set of dates by a specified interval.")),(0,d.tZ)("h4",null,(0,s.t)("Syntax")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,"dateadd([datetime], [integer], [dateunit])\ndateunit = (year | quarter | month | week | day | hour | minute | second)")),(0,d.tZ)("h4",null,(0,s.t)("Example")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,'dateadd(datetime("today"), -13, day)\ndateadd(datetime("2020-03-01"), 2, day)'))),(0,d.tZ)("div",null,(0,d.tZ)("h3",null,"DATETRUNC"),(0,d.tZ)("p",null,(0,s.t)("Truncates the specified date to the accuracy specified by the date unit.")),(0,d.tZ)("h4",null,(0,s.t)("Syntax")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,"datetrunc([datetime], [dateunit])\ndateunit = (year | quarter | month | week)")),(0,d.tZ)("h4",null,(0,s.t)("Example")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,'datetrunc(datetime("2020-03-01"), week)\ndatetrunc(datetime("2020-03-01"), month)'))),(0,d.tZ)("div",null,(0,d.tZ)("h3",null,"LASTDAY"),(0,d.tZ)("p",null,(0,s.t)("Get the last date by the date unit.")),(0,d.tZ)("h4",null,(0,s.t)("Syntax")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,"lastday([datetime], [dateunit])\ndateunit = (year | month | week)")),(0,d.tZ)("h4",null,(0,s.t)("Example")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,'lastday(datetime("today"), month)'))),(0,d.tZ)("div",null,(0,d.tZ)("h3",null,"HOLIDAY"),(0,d.tZ)("p",null,(0,s.t)("Get the specify date for the holiday")),(0,d.tZ)("h4",null,(0,s.t)("Syntax")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,"holiday([string])\nholiday([holiday string], [datetime])\nholiday([holiday string], [datetime], [country name])")),(0,d.tZ)("h4",null,(0,s.t)("Example")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,'holiday("new year")\nholiday("christmas", datetime("2019"))\nholiday("christmas", dateadd(datetime("2019"), 1, year))\nholiday("christmas", datetime("2 years ago"))\nholiday("Easter Monday", datetime("2019"), "UK")')))),m=e=>{const t=(0,i.Fg)();return(0,d.tZ)(d.ms,null,(({css:r})=>(0,d.tZ)(c.u,n()({overlayClassName:r`
            .ant-tooltip-content {
              min-width: ${125*t.gridUnit}px;
              max-height: 410px;
              overflow-y: scroll;

              .ant-tooltip-inner {
                max-width: ${125*t.gridUnit}px;
                h3 {
                  font-size: ${t.typography.sizes.m}px;
                  font-weight: ${t.typography.weights.bold};
                }
                h4 {
                  font-size: ${t.typography.sizes.m}px;
                  font-weight: ${t.typography.weights.bold};
                }
                pre {
                  border: none;
                  text-align: left;
                  word-break: break-word;
                  font-size: ${t.typography.sizes.s}px;
                }
              }
            }
          `},e))))};function f(e){return(0,d.tZ)(m,n()({title:p},e))}var h,g;u(m,"useTheme{theme}",(()=>[i.Fg])),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(p,"TIME_PICKER_HELPER","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/components/DateFunctionTooltip.tsx"),h.register(m,"StyledTooltip","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/components/DateFunctionTooltip.tsx"),h.register(f,"DateFunctionTooltip","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/components/DateFunctionTooltip.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},101090:(e,t,r)=>{r.d(t,{Z:()=>o.ZP});var o=r(465509);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},831209:(e,t,r)=>{var o;r.d(t,{gT:()=>a,MZ:()=>n,po:()=>l}),e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a="previous calendar week",n="previous calendar month",l="previous calendar year";var s,i;(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(a,"PreviousCalendarWeek","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/types.ts"),s.register(n,"PreviousCalendarMonth","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/types.ts"),s.register(l,"PreviousCalendarYear","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/types.ts")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},848784:(e,t,r)=>{r.d(t,{un:()=>i,Sm:()=>c,MI:()=>d,_S:()=>u,gn:()=>p,kj:()=>f,Ae:()=>h,_d:()=>g,hj:()=>v,bk:()=>b,LY:()=>y,KZ:()=>Z,Zv:()=>L,V7:()=>C});var o,a=r(730381),n=r.n(a),l=r(455867),s=r(831209);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=[{value:"Common",label:(0,l.t)("Last"),order:0},{value:"Calendar",label:(0,l.t)("Previous"),order:1},{value:"Custom",label:(0,l.t)("Custom"),order:2},{value:"Advanced",label:(0,l.t)("Advanced"),order:3},{value:"No filter",label:(0,l.t)("No filter"),order:4}],c=[{value:"Last day",label:(0,l.t)("last day"),order:0},{value:"Last week",label:(0,l.t)("last week"),order:1},{value:"Last month",label:(0,l.t)("last month"),order:2},{value:"Last quarter",label:(0,l.t)("last quarter"),order:3},{value:"Last year",label:(0,l.t)("last year"),order:4}],d=new Set(c.map((({value:e})=>e))),u=[{value:s.gT,label:(0,l.t)("previous calendar week"),order:0},{value:s.MZ,label:(0,l.t)("previous calendar month"),order:1},{value:s.po,label:(0,l.t)("previous calendar year"),order:2}],p=new Set(u.map((({value:e})=>e))),m=[{value:"second",label:e=>(0,l.t)("Seconds %s",e)},{value:"minute",label:e=>(0,l.t)("Minutes %s",e)},{value:"hour",label:e=>(0,l.t)("Hours %s",e)},{value:"day",label:e=>(0,l.t)("Days %s",e)},{value:"week",label:e=>(0,l.t)("Weeks %s",e)},{value:"month",label:e=>(0,l.t)("Months %s",e)},{value:"quarter",label:e=>(0,l.t)("Quarters %s",e)},{value:"year",label:e=>(0,l.t)("Years %s",e)}],f=m.map(((e,t)=>({value:e.value,label:e.label((0,l.t)("Before")),order:t}))),h=m.map(((e,t)=>({value:e.value,label:e.label((0,l.t)("After")),order:t}))),g=[{value:"specific",label:(0,l.t)("Specific Date/Time"),order:0},{value:"relative",label:(0,l.t)("Relative Date/Time"),order:1},{value:"now",label:(0,l.t)("Now"),order:2},{value:"today",label:(0,l.t)("Midnight"),order:3}],v=g.slice(),b=new Set(["Last day","Last week","Last month","Last quarter","Last year"]),y=new Set([s.gT,s.MZ,s.po]),Z="YYYY-MM-DD[T]HH:mm:ss",L=n()().utc().startOf("day").subtract(7,"days").format(Z),C=n()().utc().startOf("day").format(Z);var G,P;(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(G.register(i,"FRAME_OPTIONS","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(c,"COMMON_RANGE_OPTIONS","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(d,"COMMON_RANGE_VALUES_SET","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(u,"CALENDAR_RANGE_OPTIONS","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(p,"CALENDAR_RANGE_VALUES_SET","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(m,"GRAIN_OPTIONS","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(f,"SINCE_GRAIN_OPTIONS","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(h,"UNTIL_GRAIN_OPTIONS","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(g,"SINCE_MODE_OPTIONS","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(v,"UNTIL_MODE_OPTIONS","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(b,"COMMON_RANGE_SET","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(y,"CALENDAR_RANGE_SET","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(Z,"MOMENT_FORMAT","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(L,"SEVEN_DAYS_AGO","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(C,"MIDNIGHT","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts")),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&P(e)},269296:(e,t,r)=>{var o;r.d(t,{UD:()=>a,mv:()=>n,ns:()=>s}),r(115306),e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=" : ",n=(e,t)=>`${e}${a}${t}`,l=(e,t)=>e.replace("T00:00:00","")||(t?"-∞":"∞"),s=(e,t)=>{const r=e.split(a);if(1===r.length)return e;const o=(t||["unknown","unknown"]).map((e=>"inclusive"===e?"≤":"<"));return`${l(r[0],!0)} ${o[0]} col ${o[1]} ${l(r[1])}`};var i,c;(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(a,"SEPARATOR","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateFilterUtils.ts"),i.register(n,"buildTimeRangeString","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateFilterUtils.ts"),i.register(l,"formatDateEndpoint","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateFilterUtils.ts"),i.register(s,"formatTimeRange","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateFilterUtils.ts")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},122685:(e,t,r)=>{r.d(t,{DL:()=>v,c_:()=>y,jK:()=>Z});var o,a=r(730381),n=r.n(a),l=r(269296),s=r(848784);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=String.raw`\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.\d+)?(?:(?:[+-]\d\d:\d\d)|Z)?`,c=String.raw`TODAY|NOW`,d=String.raw`[+-]?[1-9][0-9]*`,u=String.raw`YEAR|QUARTER|MONTH|WEEK|DAY|HOUR|MINUTE|SECOND`,p=RegExp(String.raw`^DATEADD\(DATETIME\("(${i}|${c})"\),\s(${d}),\s(${u})\)$`,"i"),m=RegExp(String.raw`^${i}$|^${c}$`,"i"),f=["now","today"],h={sinceDatetime:s.Zv,sinceMode:"relative",sinceGrain:"day",sinceGrainValue:-7,untilDatetime:s.V7,untilMode:"specific",untilGrain:"day",untilGrainValue:7,anchorMode:"now",anchorValue:"now"},g=["specific","today","now"],v=e=>"now"===e?n()().utc().startOf("second"):"today"===e?n()().utc().startOf("day"):n()(e),b=e=>v(e).format(s.KZ),y=e=>{const t=e.split(l.UD);if(2===t.length){const[e,r]=t;if(m.test(e)&&m.test(r)){const t=f.includes(e)?e:"specific",o=f.includes(r)?r:"specific";return{customRange:{...h,sinceDatetime:e,untilDatetime:r,sinceMode:t,untilMode:o},matchedFlag:!0}}const o=e.match(p);if(o&&m.test(r)&&e.includes(r)){const[e,t,a]=o.slice(1),n=f.includes(r)?r:"specific";return{customRange:{...h,sinceGrain:a,sinceGrainValue:parseInt(t,10),sinceDatetime:e,untilDatetime:e,sinceMode:"relative",untilMode:n},matchedFlag:!0}}const a=r.match(p);if(m.test(e)&&a&&r.includes(e)){const[t,r,o]=[...a.slice(1)],n=f.includes(e)?e:"specific";return{customRange:{...h,untilGrain:o,untilGrainValue:parseInt(r,10),sinceDatetime:t,untilDatetime:t,untilMode:"relative",sinceMode:n},matchedFlag:!0}}if(o&&a){const[e,t,r]=[...o.slice(1)],[n,l,s]=[...a.slice(1)];if(e===n)return{customRange:{...h,sinceGrain:r,sinceGrainValue:parseInt(t,10),sinceDatetime:e,untilGrain:s,untilGrainValue:parseInt(l,10),untilDatetime:n,anchorValue:e,sinceMode:"relative",untilMode:"relative",anchorMode:"now"===e?"now":"specific"},matchedFlag:!0}}}return{customRange:h,matchedFlag:!1}},Z=e=>{const{sinceDatetime:t,sinceMode:r,sinceGrain:o,sinceGrainValue:a,untilDatetime:n,untilMode:l,untilGrain:s,untilGrainValue:i,anchorValue:c}={...e};if(g.includes(r)&&g.includes(l))return`${"specific"===r?b(t):r} : ${"specific"===l?b(n):l}`;if(g.includes(r)&&"relative"===l){const e="specific"===r?b(t):r;return`${e} : DATEADD(DATETIME("${e}"), ${i}, ${s})`}if("relative"===r&&g.includes(l)){const e="specific"===l?b(n):l;return`DATEADD(DATETIME("${e}"), ${-Math.abs(a)}, ${o}) : ${e}`}return`DATEADD(DATETIME("${c}"), ${-Math.abs(a)}, ${o}) : DATEADD(DATETIME("${c}"), ${i}, ${s})`};var L,C;(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(i,"iso8601","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(c,"datetimeConstant","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(d,"grainValue","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(u,"grain","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(p,"CUSTOM_RANGE_EXPRESSION","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(m,"ISO8601_AND_CONSTANT","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(f,"DATETIME_CONSTANT","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(h,"defaultCustomRange","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(g,"SPECIFIC_MODE","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(v,"dttmToMoment","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(b,"dttmToString","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(y,"customTimeRangeDecode","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(Z,"customTimeRangeEncode","/Users/chenming/PycharmProjects/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts")),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&C(e)},216636:(e,t,r)=>{r.d(t,{c_:()=>o.c_,jK:()=>o.jK,DL:()=>o.DL,_S:()=>a._S,LY:()=>a.LY,gn:()=>a.gn,Sm:()=>a.Sm,bk:()=>a.bk,MI:()=>a.MI,un:()=>a.un,V7:()=>a.V7,KZ:()=>a.KZ,kj:()=>a.kj,_d:()=>a._d,Ae:()=>a.Ae,hj:()=>a.hj,UD:()=>n.UD,mv:()=>n.mv,ns:()=>n.ns});var o=r(122685),a=r(848784),n=r(269296);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},653350:(e,t,r)=>{var o;r.d(t,{Q:()=>a}),e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=(e,t=!1)=>(r,o=!1)=>{const a=o||t;if(!r&&e)return a?e:{"data-test":e};if(r&&!e)return a?r:{"data-test":r};if(!r&&!e)return console.warn('testWithId function has missed "prefix" and "id" params'),a?"":{"data-test":""};const n=`${e}__${r}`;return a?n:{"data-test":n}};var n,l;(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(a,"testWithId","/Users/chenming/PycharmProjects/superset/superset-frontend/src/utils/testUtils.ts"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}}]);