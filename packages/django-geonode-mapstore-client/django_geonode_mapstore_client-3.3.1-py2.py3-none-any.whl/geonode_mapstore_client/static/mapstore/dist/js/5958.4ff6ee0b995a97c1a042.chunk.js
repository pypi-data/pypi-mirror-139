(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[5958],{57579:(t,n,e)=>{"use strict";e.d(n,{Jm:()=>a,AE:()=>c,dm:()=>d,n8:()=>f,BV:()=>l,Cz:()=>s,wb:()=>p,$A:()=>v,eb:()=>g,v8:()=>y,yY:()=>b,ff:()=>E,S0:()=>h,Q6:()=>w,kb:()=>O,GV:()=>m,LH:()=>D,lG:()=>T,Km:()=>I,pV:()=>S,V5:()=>G,IT:()=>P,VR:()=>j,jv:()=>A,oU:()=>W,Ym:()=>_,uU:()=>N,ke:()=>R,nw:()=>C,A4:()=>k,C2:()=>L,Qe:()=>V,Ij:()=>Y,Ko:()=>U,E9:()=>x,K4:()=>F,c_:()=>z,uT:()=>H,bS:()=>M,Rz:()=>$,t4:()=>J,_k:()=>X,w2:()=>Z,YA:()=>B,sD:()=>K,Gn:()=>Q,Rb:()=>q,fy:()=>tt,kr:()=>nt,f:()=>et,Ff:()=>rt,Pt:()=>it,ep:()=>ot});var r=e(23570),i=e.n(r);function o(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function u(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var a="WIDGETS:INSERT",c="WIDGETS:NEW",d="WIDGETS:EDIT",f="WIDGETS:EDIT_NEW",l="WIDGETS:EDITOR_CHANGE",s="WIDGETS:EDITOR_SETTING_CHANGE",p="WIDGETS:UPDATE",v="WIDGETS:UPDATE_PROPERTY",g="WIDGETS:UPDATE_LAYER",y="WIDGETS:CHANGE_LAYOUT",b="WIDGETS:DELETE",E="WIDGETS:CLEAR_WIDGETS",h="WIDGETS:ADD_DEPENDENCY",w="WIDGETS:REMOVE_DEPENDENCY",O="WIDGETS:LOAD_DEPENDENCIES",m="WIDGETS:RESET_DEPENDENCIES",D="WIDGETS:TOGGLE_CONNECTION",T="WIDGETS:OPEN_FILTER_EDITOR",I="WIDGETS:EXPORT_CSV",S="WIDGETS:EXPORT_IMAGE",G="WIDGETS:WIDGET_SELECTED",P="WIDGETS:NEW_CHART",j="floating",A="dependencySelector",W=/^widgets\["?([^"\]]*)"?\]\.?(.*)$/,_="WIDGET:TOGGLE_COLLAPSE",N="WIDGET:TOGGLE_COLLAPSE_ALL",R="WIDGET:TOGGLE_MAXIMIZE",C="WIDGET:TOGGLE_TRAY",k=function(t){return{type:c,widget:t}},L=function(){return{type:P}},V=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j;return{type:a,target:n,id:i()(),widget:t}},Y=function(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"replace",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:j;return{type:v,id:t,target:i,key:n,value:e,mode:r}},U=function(t){return{type:g,layer:t}},x=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j;return{type:b,target:n,widget:t}},F=function(){return{type:E}},z=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j;return{type:y,allLayouts:n,layout:t,target:e}},H=function(t){return{type:d,widget:t}},M=function(t,n){return{type:f,widget:t,settings:n}},$=function(t,n){return{type:l,key:t,value:n}},J=function(t,n){return{type:s,key:t,value:n}},X=function(t){return{type:O,dependencies:t}},Z=function(t,n,e,r){return{type:D,active:t,availableDependencies:n,options:e,target:r}},B=function(t){return J("step",t)},K=function(t){var n=t.data,e=void 0===n?[]:n,r=t.title;return{type:I,data:e,title:void 0===r?"export":r}},Q=function(t,n){return{type:G,widget:t,opts:n}},q=function(t){var n=t.widgetDivId;return{type:S,widgetDivId:n}},tt=function(){return{type:T}},nt=function(t,n){return e=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?o(Object(e),!0).forEach((function(n){u(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({active:t},n),J("".concat(A),e);var e},et=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j;return{type:_,widget:t,target:n}},rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return{type:N,target:t}},it=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j;return{type:R,widget:t,target:n}},ot=function(t){return{type:C,value:t}}},67306:(t,n,e)=>{"use strict";e.d(n,{Wy:()=>o,i$:()=>u,P0:()=>a,NB:()=>c,MZ:()=>d,J:()=>f,DZ:()=>l,CN:()=>s,fd:()=>p,Yl:()=>v,Ip:()=>g});var r=e(22222),i=e(24684),o=function(t){return t&&t.dashboard&&t.dashboard.editor&&t.dashboard.editor.available},u=function(t){return t&&t.dashboard&&t.dashboard.editing},a=function(t){return t&&t.dashboard&&t.dashboard.showConnections},c=function(t){return t&&t.dashboard&&t.dashboard.resource},d=function(t){return t&&t.dashboard&&t.dashboard.loading},f=function(t){return t&&t.browser&&t.browser.mobile},l=(0,r.P1)(i.F,c,f,(function(t,n,e){return e?!e:n&&n.canEdit||isNaN(t.substr(-4))})),s=function(t){return t&&t.dashboard&&t.dashboard.services},p=function(t){return t&&t.dashboard&&t.dashboard.selectedService},v=function(t){return t&&t.dashboard&&t.dashboard.mode||"view"},g=function(t){var n;return(null===(n=t.dashboard)||void 0===n?void 0:n.isNew)||!1}},24684:(t,n,e)=>{"use strict";e.d(n,{F:()=>o,y:()=>u});var r=e(27361),i=e.n(r),o=function(t){return i()(t,"router.location.pathname")||"/"},u=function(t){return i()(t,"router.location.search")||""}},25958:(t,n,e)=>{"use strict";e.d(n,{zA:()=>F,jx:()=>x,HU:()=>B,h9:()=>nt,YR:()=>V,lF:()=>C,hF:()=>X,nA:()=>K,r0:()=>z,YI:()=>_,um:()=>tt,JT:()=>Q,E2:()=>j,zm:()=>R,yZ:()=>J,p:()=>$,Jb:()=>k,E5:()=>L,GW:()=>N,ie:()=>M,Xu:()=>Z,xI:()=>H,Wo:()=>q,md:()=>et});var r=e(13311),i=e.n(r),o=e(27361),u=e.n(o),a=e(84596),c=e.n(a),d=e(1469),f=e.n(d),l=e(827),s=e(75110),p=e(24684),v=e(57579),g=(e(81763),e(59854),function(t,n,e){var r,i,o=[],u=[],a=t;for(o.push(a);o.length>0;)if(!e[a=o.shift()])for(e[a]=!0,u.push(a),r=0;r<n.length;r+=1)(i=n[r])[0]!==a||e[i[1]]?i[1]!==a||e[i[0]]||o.push(i[0]):o.push(i[1]);return u}),y=function(t){for(var n={},e=[],r=0,i=t.length;r<i;r+=1){var o=t[r],u=o[0],a=o[1],c=null;n[u]?n[a]||(c=a):c=u,c&&e.push(g(c,t,n))}return e},b=e(43143);function E(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,n){if(t){if("string"==typeof t)return w(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?w(t,n):void 0}}function w(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var O=function(t,n){var e,r,o=(e=v.oU.exec(t),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o=[],u=!0,a=!1;try{for(e=e.call(t);!(u=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);u=!0);}catch(t){a=!0,i=t}finally{try{u||null==e.return||e.return()}finally{if(a)throw i}}return o}}(e,r)||h(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=o[0],a=o[1];return u?i()(n,{id:a}):null},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.reduce((function(n,e){var r=u()(e,"mapSync")&&u()(e,"dependenciesMap")||{},i=Object.keys(r).map((function(n){return O(r[n],t)}))||[];return[].concat(E(n),E(i.filter((function(t){return void 0!==t})).map((function(t){return[e.id,t.id]}))))}),[])},D=e(67306),T=e(22222),I=e(84715);function S(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function G(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?S(Object(e),!0).forEach((function(n){P(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):S(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function P(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var j=function(t){return u()(t,"widgets.builder.settings")},A=function(t){return u()(t,"widgets.dependencies")||{}},W=function(t){return Object.keys(A(t)).map((function(n){return A(t)[n]}))},_=function(t){return u()(t,"widgets.builder.editor")},N=(0,T.P1)(_,s.Iz,(function(t){return(0,D.Wy)(t)&&(0,D.i$)(t)}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.layer,e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return n||!r&&e})),R=function(t){return u()(t,"widgets.containers[".concat(v.VR,"].widgets"))},C=function(t){return u()(t,"widgets.containers[".concat(v.VR,"].collapsed"))},k=function(t){return u()(t,"widgets.containers[".concat(v.VR,"].maximized"))},L=(0,T.P1)(R,C,k,(function(t,n,e){if(t){if(null!=e&&e.widget)return t.filter((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id;return n===e.widget.id}));if(n)return t.filter((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id;return!n[e]}))}return t})),V=(0,T.P1)(C,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t)})),Y=function(t){return(R(t)||[]).filter((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.widgetType;return"map"===n}))},U=function(t){return(R(t)||[]).filter((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.widgetType;return"table"===n}))},x=(0,T.P1)(Y,U,l.Od,p.F,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;return{availableDependencies:t.map((function(t){var n=t.id;return"widgets[".concat(n,"].map")})).concat(c()(e).map((function(){return"map"}))).concat(c()(n).filter((function(){return-1===r.indexOf("viewer")})).map((function(t){var n=t.id;return"widgets[".concat(n,"]")})))}})),F=(0,T.P1)(Y,U,l.Od,p.F,_,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=i&&"map"!==i.widgetType?i&&i.layer||{}:i&&i.map&&i.map.layers||[];return{availableDependencies:t.map((function(t){var n=t.id;return"widgets[".concat(n,"].map")})).concat(c()(e).map((function(){return e?"map":null}))).filter((function(t){return t})).concat(c()(n).filter((function(){return-1===r.indexOf("viewer")})).filter((function(t){return f()(o)||o.name===t.layer.name})).filter((function(t){return i&&i.id!==t.id})).map((function(t){var n=t.id;return"widgets[".concat(n,"]")})))}})),z=function(t){return u()(j(t),"".concat(v.jv))},H=function(t){return u()(z(t),"active")},M=(0,T.P1)(R,(function(t){return function(){var t=y(m(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])),n={base:190,range:340,options:{base:10,range:360,s:.67,v:.67}},e=(0,b.qH)(n.base,n.range,t.length+1,n.options);return t.map((function(t,n){return{color:e[n],widgets:t}}))}(t)})),$=function(t){return u()(t,"widgets.containers[".concat(v.VR,"].layouts"))},J=function(t){return u()(t,"widgets.containers[".concat(v.VR,"].layout"))},X=function(t){return u()(t,"widgets.containers[".concat(v.VR,"].widgets"))},Z=function(t){return u()(t,"widgets.tray")},B=function(t){return(X(t)||[]).length>0},K=function(t){return u()(t,"widgets.containers[".concat(v.VR,"].layouts"))},Q=function(t){return u()(_(t),"layer")},q=function(t){return u()(t,"widgets.builder.editor.returnToFeatureGrid",!1)},tt=function(t){return u()(_(t),"filter")},nt=(0,I.y)(A,W,(function(t){return W(t).map((function(n){return 0===n.indexOf("map.")?u()((0,l.Od)(t),n.slice(4)):n.match(v.oU)?function(t,n){var e=v.oU.exec(t),r=e&&e[2],i=O(t,n);return r?u()(i,r):i}(n,R(t)):u()(t,n)}))}),(function(t,n,e){return n.reduce((function(n,r,i){return G(G({},n),{},P({},Object.keys(t)[i],e[i]))}),{})})),et=(0,T.zB)({widgets:R,layouts:$,catalogs:D.CN})},84715:(t,n,e)=>{"use strict";e.d(n,{y:()=>f,o:()=>l});var r=e(28368),i=e.n(r),o=e(13218),u=e.n(o),a=e(22222),c=function(t,n){return t===n},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return function(n,e){return Array.isArray(n)&&Array.isArray(e)?n===e||n.length===e.length&&n.reduce((function(n,r,i){return n&&t(r,e[i])}),!0):u()(n)&&u()(e)?n===e||Object.keys(n).length===Object.keys(e).length&&Object.keys(n).reduce((function(r,i){return r&&t(n[i],e[i])}),!0):n===e}},f=(0,a.wN)(a.PW,(function(t,n){return i()(t,n,d())})),l=function(t){return(0,a.wN)(a.PW,(function(n,e){return i()(n,e,d(t))}))}}}]);