"use strict";(self.webpackChunknni_webui=self.webpackChunknni_webui||[]).push([[925],{31925:function(e,t,n){n.r(t),n.d(t,{BestMetricContext:function(){return Te},default:function(){return Pe}});var i,o=n(16449),r=n(87578),a=n(12220),s=n(89623),c=n(87735),l=n(30965),m=n(53957),d=n(71888),u=n(93272),p={root:"ms-ScrollablePane",contentContainer:"ms-ScrollablePane--contentContainer"},h=n(21511),y=n(71471),g=n(91905),f=n(51606),v=n(24191),k=n(35386),E=n(77703),b="auto",C=o.createContext({scrollablePane:void 0}),S=(0,y.y)(),N=function(e){function t(t){var n=e.call(this,t)||this;return n._root=o.createRef(),n._stickyAboveRef=o.createRef(),n._stickyBelowRef=o.createRef(),n._contentContainer=o.createRef(),n.subscribe=function(e){n._subscribers.add(e)},n.unsubscribe=function(e){n._subscribers.delete(e)},n.addSticky=function(e){n._stickies.add(e),n.contentContainer&&(e.setDistanceFromTop(n.contentContainer),n.sortSticky(e))},n.removeSticky=function(e){n._stickies.delete(e),n._removeStickyFromContainers(e),n.notifySubscribers()},n.sortSticky=function(e,t){n.stickyAbove&&n.stickyBelow&&(t&&n._removeStickyFromContainers(e),e.canStickyTop&&e.stickyContentTop&&n._addToStickyContainer(e,n.stickyAbove,e.stickyContentTop),e.canStickyBottom&&e.stickyContentBottom&&n._addToStickyContainer(e,n.stickyBelow,e.stickyContentBottom))},n.updateStickyRefHeights=function(){var e=n._stickies,t=0,i=0;e.forEach((function(e){var o=e.state,r=o.isStickyTop,a=o.isStickyBottom;e.nonStickyContent&&(r&&(t+=e.nonStickyContent.offsetHeight),a&&(i+=e.nonStickyContent.offsetHeight),n._checkStickyStatus(e))})),n.setState({stickyTopHeight:t,stickyBottomHeight:i})},n.notifySubscribers=function(){n.contentContainer&&n._subscribers.forEach((function(e){e(n.contentContainer,n.stickyBelow)}))},n.getScrollPosition=function(){return n.contentContainer?n.contentContainer.scrollTop:0},n.syncScrollSticky=function(e){e&&n.contentContainer&&e.syncScroll(n.contentContainer)},n._getScrollablePaneContext=function(){return{scrollablePane:{subscribe:n.subscribe,unsubscribe:n.unsubscribe,addSticky:n.addSticky,removeSticky:n.removeSticky,updateStickyRefHeights:n.updateStickyRefHeights,sortSticky:n.sortSticky,notifySubscribers:n.notifySubscribers,syncScrollSticky:n.syncScrollSticky}}},n._addToStickyContainer=function(e,t,i){if(t.children.length){if(!t.contains(i)){var o=[].slice.call(t.children),r=[];n._stickies.forEach((function(i){(t===n.stickyAbove&&e.canStickyTop||e.canStickyBottom)&&r.push(i)}));for(var a=void 0,s=0,c=r.sort((function(e,t){return(e.state.distanceFromTop||0)-(t.state.distanceFromTop||0)})).filter((function(e){var i=t===n.stickyAbove?e.stickyContentTop:e.stickyContentBottom;return!!i&&o.indexOf(i)>-1}));s<c.length;s++){var l=c[s];if((l.state.distanceFromTop||0)>=(e.state.distanceFromTop||0)){a=l;break}}var m=null;a&&(m=t===n.stickyAbove?a.stickyContentTop:a.stickyContentBottom),t.insertBefore(i,m)}}else t.appendChild(i)},n._removeStickyFromContainers=function(e){n.stickyAbove&&e.stickyContentTop&&n.stickyAbove.contains(e.stickyContentTop)&&n.stickyAbove.removeChild(e.stickyContentTop),n.stickyBelow&&e.stickyContentBottom&&n.stickyBelow.contains(e.stickyContentBottom)&&n.stickyBelow.removeChild(e.stickyContentBottom)},n._onWindowResize=function(){var e=n._getScrollbarWidth(),t=n._getScrollbarHeight();n.setState({scrollbarWidth:e,scrollbarHeight:t}),n.notifySubscribers()},n._getStickyContainerStyle=function(e,t){return(0,h.pi)((0,h.pi)({height:e},(0,g.zg)(n.props.theme)?{right:"0",left:(n.state.scrollbarWidth||n._getScrollbarWidth()||0)+"px"}:{left:"0",right:(n.state.scrollbarWidth||n._getScrollbarWidth()||0)+"px"}),t?{top:"0"}:{bottom:(n.state.scrollbarHeight||n._getScrollbarHeight()||0)+"px"})},n._onScroll=function(){var e=n.contentContainer;e&&n._stickies.forEach((function(t){t.syncScroll(e)})),n._notifyThrottled()},n._subscribers=new Set,n._stickies=new Set,(0,f.l)(n),n._async=new v.e(n),n._events=new k.r(n),n.state={stickyTopHeight:0,stickyBottomHeight:0,scrollbarWidth:0,scrollbarHeight:0},n._notifyThrottled=n._async.throttle(n.notifySubscribers,50),n}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"root",{get:function(){return this._root.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyAbove",{get:function(){return this._stickyAboveRef.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyBelow",{get:function(){return this._stickyBelowRef.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentContainer",{get:function(){return this._contentContainer.current},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){var e=this,t=this.props.initialScrollPosition;this._events.on(this.contentContainer,"scroll",this._onScroll),this._events.on(window,"resize",this._onWindowResize),this.contentContainer&&t&&(this.contentContainer.scrollTop=t),this.setStickiesDistanceFromTop(),this._stickies.forEach((function(t){e.sortSticky(t)})),this.notifySubscribers(),"MutationObserver"in window&&(this._mutationObserver=new MutationObserver((function(t){var n=e._getScrollbarHeight();if(n!==e.state.scrollbarHeight&&e.setState({scrollbarHeight:n}),e.notifySubscribers(),t.some(function(e){return null!==this.stickyAbove&&null!==this.stickyBelow&&(this.stickyAbove.contains(e.target)||this.stickyBelow.contains(e.target))}.bind(e)))e.updateStickyRefHeights();else{var i=[];e._stickies.forEach((function(e){e.root&&e.root.contains(t[0].target)&&i.push(e)})),i.length&&i.forEach((function(e){e.forceUpdate()}))}})),this.root&&this._mutationObserver.observe(this.root,{childList:!0,attributes:!0,subtree:!0,characterData:!0}))},t.prototype.componentWillUnmount=function(){this._events.dispose(),this._async.dispose(),this._mutationObserver&&this._mutationObserver.disconnect()},t.prototype.shouldComponentUpdate=function(e,t){return this.props.children!==e.children||this.props.initialScrollPosition!==e.initialScrollPosition||this.props.className!==e.className||this.state.stickyTopHeight!==t.stickyTopHeight||this.state.stickyBottomHeight!==t.stickyBottomHeight||this.state.scrollbarWidth!==t.scrollbarWidth||this.state.scrollbarHeight!==t.scrollbarHeight},t.prototype.componentDidUpdate=function(e,t){var n=this.props.initialScrollPosition;this.contentContainer&&"number"===typeof n&&e.initialScrollPosition!==n&&(this.contentContainer.scrollTop=n),t.stickyTopHeight===this.state.stickyTopHeight&&t.stickyBottomHeight===this.state.stickyBottomHeight||this.notifySubscribers(),this._async.setTimeout(this._onWindowResize,0)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.theme,i=e.styles,r=this.state,a=r.stickyTopHeight,s=r.stickyBottomHeight,c=S(i,{theme:n,className:t,scrollbarVisibility:this.props.scrollbarVisibility});return o.createElement("div",(0,h.pi)({},(0,E.pq)(this.props,E.n7),{ref:this._root,className:c.root}),o.createElement("div",{ref:this._stickyAboveRef,className:c.stickyAbove,style:this._getStickyContainerStyle(a,!0)}),o.createElement("div",{ref:this._contentContainer,className:c.contentContainer,"data-is-scrollable":!0},o.createElement(C.Provider,{value:this._getScrollablePaneContext()},this.props.children)),o.createElement("div",{className:c.stickyBelow,style:this._getStickyContainerStyle(s,!1)},o.createElement("div",{ref:this._stickyBelowRef,className:c.stickyBelowItems})))},t.prototype.setStickiesDistanceFromTop=function(){var e=this;this.contentContainer&&this._stickies.forEach((function(t){t.setDistanceFromTop(e.contentContainer)}))},t.prototype.forceLayoutUpdate=function(){this._onWindowResize()},t.prototype._checkStickyStatus=function(e){this.stickyAbove&&this.stickyBelow&&this.contentContainer&&e.nonStickyContent&&(e.state.isStickyTop||e.state.isStickyBottom?(e.state.isStickyTop&&!this.stickyAbove.contains(e.nonStickyContent)&&e.stickyContentTop&&e.addSticky(e.stickyContentTop),e.state.isStickyBottom&&!this.stickyBelow.contains(e.nonStickyContent)&&e.stickyContentBottom&&e.addSticky(e.stickyContentBottom)):this.contentContainer.contains(e.nonStickyContent)||e.resetSticky())},t.prototype._getScrollbarWidth=function(){var e=this.contentContainer;return e?e.offsetWidth-e.clientWidth:0},t.prototype._getScrollbarHeight=function(){var e=this.contentContainer;return e?e.offsetHeight-e.clientHeight:0},t}(o.Component),x=n(39785),T=(0,x.z)(N,(function(e){var t,n,i=e.className,o=e.theme,r=(0,u.Cn)(p,o),a={position:"absolute",pointerEvents:"none"},s={position:"absolute",top:0,right:0,bottom:0,left:0,WebkitOverflowScrolling:"touch"};return{root:[r.root,o.fonts.medium,s,i],contentContainer:[r.contentContainer,{overflowY:"always"===e.scrollbarVisibility?"scroll":"auto"},s],stickyAbove:[{top:0,zIndex:1,selectors:(t={},t[u.qJ]={borderBottom:"1px solid WindowText"},t)},a],stickyBelow:[{bottom:0,selectors:(n={},n[u.qJ]={borderTop:"1px solid WindowText"},n)},a],stickyBelowItems:[{bottom:0},a,{width:"100%"}]}}),void 0,{scope:"ScrollablePane"}),w=n(37130);!function(e){e[e.Both=0]="Both",e[e.Header=1]="Header",e[e.Footer=2]="Footer"}(i||(i={}));var P=function(e){function t(t){var n=e.call(this,t)||this;return n._root=o.createRef(),n._stickyContentTop=o.createRef(),n._stickyContentBottom=o.createRef(),n._nonStickyContent=o.createRef(),n._placeHolder=o.createRef(),n.syncScroll=function(e){var t=n.nonStickyContent;t&&n.props.isScrollSynced&&(t.scrollLeft=e.scrollLeft)},n._getContext=function(){return n.context},n._onScrollEvent=function(e,t){if(n.root&&n.nonStickyContent){var i=n._getNonStickyDistanceFromTop(e),o=!1,r=!1;if(n.canStickyTop)o=i-n._getStickyDistanceFromTop()<e.scrollTop;n.canStickyBottom&&e.clientHeight-t.offsetHeight<=i&&(r=i-Math.floor(e.scrollTop)>=n._getStickyDistanceFromTopForFooter(e,t)),document.activeElement&&n.nonStickyContent.contains(document.activeElement)&&(n.state.isStickyTop!==o||n.state.isStickyBottom!==r)?n._activeElement=document.activeElement:n._activeElement=void 0,n.setState({isStickyTop:n.canStickyTop&&o,isStickyBottom:r,distanceFromTop:i})}},n._getStickyDistanceFromTop=function(){var e=0;return n.stickyContentTop&&(e=n.stickyContentTop.offsetTop),e},n._getStickyDistanceFromTopForFooter=function(e,t){var i=0;return n.stickyContentBottom&&(i=e.clientHeight-t.offsetHeight+n.stickyContentBottom.offsetTop),i},n._getNonStickyDistanceFromTop=function(e){var t=0,i=n.root;if(i){for(;i&&i.offsetParent!==e;)t+=i.offsetTop,i=i.offsetParent;i&&i.offsetParent===e&&(t+=i.offsetTop)}return t},(0,f.l)(n),n.state={isStickyTop:!1,isStickyBottom:!1,distanceFromTop:void 0},n._activeElement=void 0,n}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"root",{get:function(){return this._root.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeHolder.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyContentTop",{get:function(){return this._stickyContentTop.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyContentBottom",{get:function(){return this._stickyContentBottom.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonStickyContent",{get:function(){return this._nonStickyContent.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canStickyTop",{get:function(){return this.props.stickyPosition===i.Both||this.props.stickyPosition===i.Header},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canStickyBottom",{get:function(){return this.props.stickyPosition===i.Both||this.props.stickyPosition===i.Footer},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){var e=this._getContext().scrollablePane;e&&(e.subscribe(this._onScrollEvent),e.addSticky(this))},t.prototype.componentWillUnmount=function(){var e=this._getContext().scrollablePane;e&&(e.unsubscribe(this._onScrollEvent),e.removeSticky(this))},t.prototype.componentDidUpdate=function(e,t){var n=this._getContext().scrollablePane;if(n){var i=this.state,o=i.isStickyBottom,r=i.isStickyTop,a=i.distanceFromTop,s=!1;t.distanceFromTop!==a&&(n.sortSticky(this,!0),s=!0),t.isStickyTop===r&&t.isStickyBottom===o||(this._activeElement&&this._activeElement.focus(),n.updateStickyRefHeights(),s=!0),s&&n.syncScrollSticky(this)}},t.prototype.shouldComponentUpdate=function(e,t){if(!this.context.scrollablePane)return!0;var n=this.state,i=n.isStickyTop,o=n.isStickyBottom,r=n.distanceFromTop;return i!==t.isStickyTop||o!==t.isStickyBottom||this.props.stickyPosition!==e.stickyPosition||this.props.children!==e.children||r!==t.distanceFromTop||_(this._nonStickyContent,this._stickyContentTop)||_(this._nonStickyContent,this._stickyContentBottom)||_(this._nonStickyContent,this._placeHolder)},t.prototype.render=function(){var e=this.state,t=e.isStickyTop,n=e.isStickyBottom,i=this.props,r=i.stickyClassName,a=i.children;return this.context.scrollablePane?o.createElement("div",{ref:this._root},this.canStickyTop&&o.createElement("div",{ref:this._stickyContentTop,style:{pointerEvents:t?"auto":"none"}},o.createElement("div",{style:this._getStickyPlaceholderHeight(t)})),this.canStickyBottom&&o.createElement("div",{ref:this._stickyContentBottom,style:{pointerEvents:n?"auto":"none"}},o.createElement("div",{style:this._getStickyPlaceholderHeight(n)})),o.createElement("div",{style:this._getNonStickyPlaceholderHeightAndWidth(),ref:this._placeHolder},(t||n)&&o.createElement("span",{style:u.ul},a),o.createElement("div",{ref:this._nonStickyContent,className:t||n?r:void 0,style:this._getContentStyles(t||n)},a))):o.createElement("div",null,this.props.children)},t.prototype.addSticky=function(e){this.nonStickyContent&&e.appendChild(this.nonStickyContent)},t.prototype.resetSticky=function(){this.nonStickyContent&&this.placeholder&&this.placeholder.appendChild(this.nonStickyContent)},t.prototype.setDistanceFromTop=function(e){var t=this._getNonStickyDistanceFromTop(e);this.setState({distanceFromTop:t})},t.prototype._getContentStyles=function(e){return{backgroundColor:this.props.stickyBackgroundColor||this._getBackground(),overflow:e?"hidden":""}},t.prototype._getStickyPlaceholderHeight=function(e){var t=this.nonStickyContent?this.nonStickyContent.offsetHeight:0;return{visibility:e?"hidden":"visible",height:e?0:t}},t.prototype._getNonStickyPlaceholderHeightAndWidth=function(){var e=this.state,t=e.isStickyTop,n=e.isStickyBottom;if(t||n){var i=0,o=0;return this.nonStickyContent&&this.nonStickyContent.firstElementChild&&(i=this.nonStickyContent.offsetHeight,o=this.nonStickyContent.firstElementChild.scrollWidth+(this.nonStickyContent.firstElementChild.offsetWidth-this.nonStickyContent.firstElementChild.clientWidth)),{height:i,width:o}}return{}},t.prototype._getBackground=function(){if(this.root){for(var e=this.root;"rgba(0, 0, 0, 0)"===window.getComputedStyle(e).getPropertyValue("background-color")||"transparent"===window.getComputedStyle(e).getPropertyValue("background-color");){if("HTML"===e.tagName)return;e.parentElement&&(e=e.parentElement)}return window.getComputedStyle(e).getPropertyValue("background-color")}},t.defaultProps={stickyPosition:i.Both,isScrollSynced:!0},t.contextType=C,t}(o.Component);function _(e,t){return e&&t&&e.current&&t.current&&e.current.offsetHeight!==t.current.offsetHeight}var D=n(45237),B=n(4671);class I extends o.Component{constructor(e){super(e)}render(){const e=l.F.getTrial(this.props.trialId).accuracy;return o.createElement("div",{className:"succeed-padding"},void 0!==e?(0,B.qh)(e):"--")}}var H=I,R=n(34494),O=n(67131),F=n(11886);n(49330),n(78587);class M extends o.Component{constructor(e){super(e),this.state={columns:this.columns,source:l.F.table(this.props.trialIds),sortInfo:{field:"",isDescend:!1}}}componentDidUpdate(e){if(this.props.trialIds!==e.trialIds){const{trialIds:e}=this.props;this.setState((()=>({source:l.F.table(e)})))}}render(){const{columns:e,source:t,sortInfo:n}=this.state,i=(0,B.Lc)(t,n.field,n.isDescend),r=0===t.length;return o.createElement("div",{id:"succTable"},o.createElement(T,{className:"scrollPanel",scrollbarVisibility:b},o.createElement(w.W,{columns:e,items:i,setKey:"set",compact:!0,onRenderRow:this.onRenderRow,onRenderDetailsHeader:this.onRenderDetailsHeader,selectionMode:0,className:"succTable"})),r&&o.createElement("div",{className:"succTable-tooltip"},this.tooltipStr))}onColumnClick=(e,t)=>{const{columns:n,source:i}=this.state,o=n.slice(),r=o.filter((e=>t.key===e.key))[0];o.forEach((e=>{e===r?(r.isSortedDescending=!r.isSortedDescending,r.isSorted=!0):(e.isSorted=!1,e.isSortedDescending=!0)}));const a=(0,B.Lc)(i,r.fieldName,r.isSortedDescending);this.setState({columns:o,source:a,sortInfo:{field:r.fieldName,isDescend:r.isSortedDescending}})};tooltipStr=o.createElement(o.Fragment,null,"The experiment is running, please wait for the final metric patiently. You could also find status of trial job with ",o.createElement("span",null,F.fS)," button.");columns=[{key:"_expand",name:"",onRender:e=>o.createElement(s.J,{"aria-hidden":!0,iconName:"ChevronRight",styles:{root:{transition:"all 0.2s",transform:`rotate(${this.props.expandRowIDs.has(e.id)?90:0}deg)`}},className:"cursor",onClick:this.expandTrialId.bind(this,Event,e.id)}),fieldName:"expand",isResizable:!1,minWidth:20,maxWidth:20},{name:"Trial No.",key:"sequenceId",fieldName:"sequenceId",minWidth:60,maxWidth:80,isResizable:!0,data:"number",onColumnClick:this.onColumnClick,onRender:e=>o.createElement("div",{className:"succeed-padding"},e.sequenceId)},{name:"ID",key:"id",fieldName:"id",minWidth:90,maxWidth:100,isResizable:!0,className:"tableHead leftTitle",data:"string",onColumnClick:this.onColumnClick,onRender:e=>o.createElement(r.K,{horizontal:!0,className:"idCopy"},o.createElement("div",{className:"succeed-padding"},e.id),o.createElement(O.Z,{value:e.id}))},{name:"Duration",key:"duration",minWidth:70,maxWidth:120,isResizable:!0,fieldName:"duration",data:"number",onColumnClick:this.onColumnClick,onRender:e=>o.createElement("div",{className:"durationsty succeed-padding"},o.createElement("div",null,(0,B.BG)(e.duration)))},{name:"Status",key:"status",minWidth:88,maxWidth:120,isResizable:!0,fieldName:"status",onRender:e=>o.createElement("div",{className:`${e.status} commonStyle succeed-padding`},e.status)},{name:"Default metric",key:"accuracy",fieldName:"accuracy",minWidth:100,maxWidth:166,isResizable:!0,data:"number",onColumnClick:this.onColumnClick,onRender:e=>o.createElement(H,{trialId:e.id})}];onRenderDetailsHeader=(e,t)=>e?o.createElement(P,{stickyPosition:i.Header,isScrollSynced:!0},t({...e})):null;onRenderRow=e=>{const{expandRowIDs:t}=this.props;return e?o.createElement("div",null,o.createElement("div",null,o.createElement(D.X,e)),Array.from(t).map((t=>t===e.item.id&&o.createElement(R.Z,{key:t,trialId:t})))):null};expandTrialId=(e,t)=>{const{updateOverviewPage:n,changeExpandRowIDs:i}=this.props;i(t),n()}}var W=M,z=n(54088),A=n(22379),$=n(59645),L=n(51263),U=n(11827),K=n(84141);function J(e,t){var n=o.useRef(t);return n.current||(n.current=(0,K.z)(e)),n.current}const Z=(0,u.gh)(),G=(0,u.ZC)({buttonArea:{verticalAlign:"top",display:"inline-block",textAlign:"center",minWidth:30,height:30},callout:{maxWidth:300},header:{padding:"18px 24px 12px"},title:[Z.fonts.xLarge,{margin:0,color:Z.palette.neutralPrimary,fontWeight:u.lq.semilight}],inner:{height:"100%",padding:"0 24px 20px"},actions:{position:"relative",marginTop:20,width:"100%",whiteSpace:"nowrap"},subtext:[Z.fonts.small,{margin:0,color:Z.palette.neutralPrimary,fontWeight:u.lq.semilight}],link:[Z.fonts.medium,{color:Z.palette.neutralPrimary}]});n(35931);const j=()=>{const e=J("callout-label"),t=J("callout-description"),n=o.createRef(),[i,a]=(0,o.useState)(!1),[s,c]=(0,o.useState)(!1),m=(0,o.useCallback)((()=>a(!1)),[]),d=(0,o.useCallback)((()=>a(!0)),[]),u=(0,o.useCallback)((()=>c(!1)),[]),p=(0,o.useCallback)((()=>c(!0)),[]);return o.createElement("div",null,o.createElement(r.K,{horizontal:!0,horizontalAlign:"space-between",className:"marginTop"},o.createElement("div",{className:"basic"},o.createElement("p",null,"Name"),o.createElement("div",{className:"ellipsis"},l.O.profile.params.experimentName||"--"),o.createElement("p",{className:"marginTop"},"ID"),o.createElement("div",{className:"ellipsis"},l.O.profile.id)),o.createElement("div",{className:"basic"},o.createElement("p",null,"Status"),o.createElement(r.K,{horizontal:!0,className:"status"},o.createElement("span",{className:`${l.O.status} status-text`},l.O.status),"ERROR"===l.O.status?o.createElement("div",null,o.createElement("div",{className:`${G.buttonArea} error-info-icon`,ref:n},o.createElement(A.h,{iconProps:{iconName:"info"},onClick:i?m:d})),i&&o.createElement($.U,{className:G.callout,ariaLabelledBy:e,ariaDescribedBy:t,role:"alertdialog",gapSpace:0,target:n,onDismiss:m,setInitialFocus:!0},o.createElement("div",{className:G.header},o.createElement("p",{className:`${G.title} color`,id:e},"Error")),o.createElement("div",{className:G.inner},o.createElement("p",{className:`${G.subtext} color`,id:t},l.O.error),o.createElement("div",{className:G.actions},o.createElement(L.r,{className:G.link,onClick:p},"Learn about"))))):null),o.createElement(Te.Consumer,null,(e=>o.createElement(r.K,{className:"bestMetric"},o.createElement("p",{className:"marginTop"},"Best metric"),o.createElement("div",{className:l.O.status},isNaN(e.bestAccuracy)?"N/A":e.bestAccuracy.toFixed(6)))))),o.createElement("div",{className:"basic"},o.createElement("p",null,"Start time"),o.createElement("div",{className:"ellipsis"},(0,B.i$)(l.O.profile.startTime)),o.createElement("p",{className:"marginTop"},"End time"),o.createElement("div",{className:"ellipsis"},(0,B.i$)(l.O.profile.endTime)))),s?o.createElement(U.Z,{closeDrawer:u,activeTab:"dispatcher"}):null)};var q=n(63700),V=n(45546),Y=(0,y.y)(),Q=function(e){function t(t){var n=e.call(this,t)||this;n._onRenderProgress=function(e){var t=n.props,i=t.ariaValueText,r=t.barHeight,a=t.className,s=t.description,c=t.label,l=void 0===c?n.props.title:c,m=t.styles,d=t.theme,u="number"===typeof n.props.percentComplete?Math.min(100,Math.max(0,100*n.props.percentComplete)):void 0,p=Y(m,{theme:d,className:a,barHeight:r,indeterminate:void 0===u}),h={width:void 0!==u?u+"%":void 0,transition:void 0!==u&&u<.01?"none":void 0},y=void 0!==u?0:void 0,g=void 0!==u?100:void 0,f=void 0!==u?Math.floor(u):void 0;return o.createElement("div",{className:p.itemProgress},o.createElement("div",{className:p.progressTrack}),o.createElement("div",{className:p.progressBar,style:h,role:"progressbar","aria-describedby":s?n._descriptionId:void 0,"aria-labelledby":l?n._labelId:void 0,"aria-valuemin":y,"aria-valuemax":g,"aria-valuenow":f,"aria-valuetext":i}))};var i=(0,K.z)("progress-indicator");return n._labelId=i+"-label",n._descriptionId=i+"-description",n}return(0,h.ZT)(t,e),t.prototype.render=function(){var e=this.props,t=e.barHeight,n=e.className,i=e.label,r=void 0===i?this.props.title:i,a=e.description,s=e.styles,c=e.theme,l=e.progressHidden,m=e.onRenderProgress,d=void 0===m?this._onRenderProgress:m,u="number"===typeof this.props.percentComplete?Math.min(100,Math.max(0,100*this.props.percentComplete)):void 0,p=Y(s,{theme:c,className:n,barHeight:t,indeterminate:void 0===u});return o.createElement("div",{className:p.root},r?o.createElement("div",{id:this._labelId,className:p.itemName},r):null,l?null:d((0,h.pi)((0,h.pi)({},this.props),{percentComplete:u}),this._onRenderProgress),a?o.createElement("div",{id:this._descriptionId,className:p.itemDescription},a):null)},t.defaultProps={label:"",description:"",width:180},t}(o.Component),X=n(31469),ee={root:"ms-ProgressIndicator",itemName:"ms-ProgressIndicator-itemName",itemDescription:"ms-ProgressIndicator-itemDescription",itemProgress:"ms-ProgressIndicator-itemProgress",progressTrack:"ms-ProgressIndicator-progressTrack",progressBar:"ms-ProgressIndicator-progressBar"},te=(0,X.NF)((function(){return(0,u.F4)({"0%":{left:"-30%"},"100%":{left:"100%"}})})),ne=(0,X.NF)((function(){return(0,u.F4)({"100%":{right:"-30%"},"0%":{right:"100%"}})})),ie=(0,x.z)(Q,(function(e){var t,n,i,o=(0,g.zg)(e.theme),r=e.className,a=e.indeterminate,s=e.theme,c=e.barHeight,l=void 0===c?2:c,m=s.palette,d=s.semanticColors,p=s.fonts,y=(0,u.Cn)(ee,s),f=m.neutralLight;return{root:[y.root,p.medium,r],itemName:[y.itemName,u.jq,{color:d.bodyText,paddingTop:4,lineHeight:20}],itemDescription:[y.itemDescription,{color:d.bodySubtext,fontSize:p.small.fontSize,lineHeight:18}],itemProgress:[y.itemProgress,{position:"relative",overflow:"hidden",height:l,padding:"8px 0"}],progressTrack:[y.progressTrack,{position:"absolute",width:"100%",height:l,backgroundColor:f,selectors:(t={},t[u.qJ]={borderBottom:"1px solid WindowText"},t)}],progressBar:[{backgroundColor:m.themePrimary,height:l,position:"absolute",transition:"width .3s ease",width:0,selectors:(n={},n[u.qJ]=(0,h.pi)({backgroundColor:"highlight"},(0,u.xM)()),n)},a?{position:"absolute",minWidth:"33%",background:"linear-gradient(to right, "+f+" 0%, "+m.themePrimary+" 50%, "+f+" 100%)",animation:(o?ne():te())+" 3s infinite",selectors:(i={},i[u.qJ]={background:"highlight"},i)}:{transition:"width .15s linear"},y.progressBar]}}),void 0,{scope:"ProgressIndicator"}),oe=n(41772),re=n(36177),ae=n.n(re),se=n(8819);const ce=o.createContext({editType:"",field:"",title:"",maxExecDuration:"",maxTrialNum:0,trialConcurrency:0,updateOverviewPage:()=>{}}),le={width:"28%"},me=[{key:"10",text:"10"},{key:"20",text:"20"},{key:"30",text:"30"},{key:"50",text:"40"},{key:"100",text:"100"}],de=[{key:"m",text:"min"},{key:"h",text:"hour"},{key:"d",text:"day"}];var ue=n(34023),pe=n(86151);const he=o.createRef(),ye=()=>{const[e,t]=(0,o.useState)(!0),[n,i]=(0,o.useState)(!1),[r,a]=(0,o.useState)(""),[s,d]=(0,o.useState)(""),u=(0,o.useCallback)((()=>{t(!0)}),[]),p=(0,o.useCallback)((()=>{t(!1)}),[]),h=(0,o.useCallback)((()=>i(!0)),[]),y=(0,o.useCallback)((()=>{i(!1)}),[]),{title:g,field:f,editType:v,maxExecDuration:k,maxTrialNum:E,trialConcurrency:b,updateOverviewPage:C}=(0,o.useContext)(ce),S=l.O.profile.params.maxExperimentDuration,{maxDurationUnit:N,changeMaxDurationUnit:x}=(0,o.useContext)(m.I),[T,w]=(0,o.useState)(N);let P="",_="";"Max duration"===g?(P=k,_=k):g===oe.Nn?(P=E.toString(),_=E.toString()):(P=b.toString(),_=b.toString());const[D,B]=(0,o.useState)(_);function I(e){B(e.target.value)}function H(e,t){d(e),a(t),h(),setTimeout(y,2e3)}function R(e,t){void 0!==t&&w(t.key)}function O(e,t,n){H(e,t),B(n)}async function F(){const e="Max duration"===g,t=Object.assign({},l.O.profile);let n="";if(e){if(!D.match(/^\d+(?=\.{0,1}\d+$|$)/))return void O("Please enter a number!","error",P);if((0,se.m)(`${D}${T}`)<l.O.profile.execDuration)return void O("Please input a valid value. (Current duration is more than the number you input.)","error",P)}else if(!D.match(/^[1-9]\d*$/))return void O("Please enter a positive integer!","error",P);if(n=e?k:g===oe.Nn?E.toString():b.toString(),D===n){if(!e)return void H(`Trial ${f} has not changed`,"error");if(N===T)return void H(`Trial ${f} has not changed`,"error")}if(e){const e=JSON.parse(D);t.params[f]=`${e}${T}`}else t.params[f]=parseInt(D,10);try{200===(await ae().put(`${oe.zU}/experiment`,t,{params:{update_type:v}})).status&&(e&&x(T),H(`Successfully updated experiment's ${f}`,"success"),C())}catch(i){i.response&&i.response.data.error?H(`Failed to update trial ${f}\n${i.response.data.error}`,"error"):i.response?H(`Failed to update trial ${f}\nServer responsed ${i.response.status}`,"error"):i.message?H(`Failed to update trial ${f}\n${i.message}`,"error"):H(`Failed to update trial ${f}\nUnknown error`,"error"),B(P),t.params[f]=e?S:n}u()}function M(){B(P),u(),w(N)}return o.createElement(m.I.Consumer,null,(t=>o.createElement(ce.Consumer,null,(i=>{let a="";return"maxExperimentDuration"===i.field&&(a=e?"noEditDuration":"editDuration"),o.createElement(o.Fragment,null,o.createElement("div",{className:`${a} editparam`},o.createElement("div",{className:"title"},i.title),o.createElement("input",{className:`${i.field} editparam-Input`,ref:he,disabled:!!e,value:D,onChange:I}),e&&"Max duration"===g&&o.createElement("span",null,"d"===(l=t.maxDurationUnit)?"day":"h"===l?"hour":"m"===l?"min":l),!e&&"Max duration"===g&&o.createElement(c.L,{selectedKey:T,options:de,className:"editparam-dropdown",onChange:R}),e&&o.createElement("span",{className:"edit cursor",onClick:p},ue.I8),!e&&o.createElement("span",{className:"series"},o.createElement("span",{className:"confirm cursor",onClick:F},ue.Y_),o.createElement("span",{className:"cancel cursor",onClick:M},ue.$j)),n&&o.createElement(pe.Z,{className:"info",typeInfo:r,info:s})));var l}))))},ge=o.createContext({maxExecDuration:0,execDuration:0,updateOverviewPage:()=>{},maxDurationUnit:"m",changeMaxDurationUnit:e=>{}}),fe={width:"60%",position:"relative"},ve={paddingLeft:"9%",boxSizing:"border-box"},ke=()=>o.createElement(ge.Consumer,null,(e=>{const{maxExecDuration:t,execDuration:n,maxDurationUnit:i,updateOverviewPage:a}=e,s=t-n,c=n/t,m=(0,B.BG)(n),d=(0,B.TZ)(i,t).toString();return o.createElement(r.K,{horizontal:!0,className:"ExpDuration"},o.createElement("div",{style:fe},o.createElement(q.G,{content:`${(0,B.BG)(s)} remaining`,directionalHint:V.b.bottomCenter,tooltipProps:{calloutProps:{styles:{beak:{background:oe.he},beakCurtain:{background:oe.he},calloutMain:{background:oe.he}}}}},o.createElement(ie,{className:l.O.status,percentComplete:c,barHeight:8})),o.createElement("div",{className:"exp-progress"},o.createElement("span",{className:`${l.O.status} bold`},m),o.createElement("span",{className:"joiner"},"/"),o.createElement("span",null,`${d} ${i}`))),o.createElement("div",{style:ve},o.createElement(ce.Provider,{value:{editType:oe.Jw[0],field:"maxExperimentDuration",title:"Max duration",maxExecDuration:d,maxTrialNum:l.O.maxTrialNumber,trialConcurrency:l.O.profile.params.trialConcurrency,updateOverviewPage:a}},o.createElement(ye,null))))})),Ee={childrenGap:60},be={childrenGap:80},Ce=()=>{const e=l.F.countStatus(),t=e.get("USER_CANCELED")+e.get("SYS_CANCELED")+e.get("EARLY_STOPPED"),n=e.get("RUNNING")+e.get("SUCCEEDED")+e.get("FAILED")+t,i=l.O.maxTrialNumber,a=n/i;return o.createElement(ge.Consumer,null,(s=>{const{updateOverviewPage:c}=s;return o.createElement(o.Fragment,null,o.createElement(r.K,{horizontal:!0,className:"ExpDuration"},o.createElement("div",{style:fe},o.createElement(q.G,{content:`${n.toString()} trials`,directionalHint:V.b.bottomCenter,tooltipProps:{calloutProps:{styles:{beak:{background:oe.he},beakCurtain:{background:oe.he},calloutMain:{background:oe.he}}}}},o.createElement(ie,{className:l.O.status,percentComplete:a,barHeight:8})),o.createElement("div",{className:"exp-progress"},o.createElement("span",{className:`${l.O.status} bold`},n),o.createElement("span",{className:"joiner"},"/"),o.createElement("span",null,i)))),o.createElement(r.K,{horizontal:!0,className:"marginTop"},o.createElement("div",{style:fe},o.createElement(r.K,{horizontal:!0,className:"status-count",tokens:Ee},o.createElement("div",null,o.createElement("span",null,"Running"),o.createElement("p",null,e.get("RUNNING"))),o.createElement("div",null,o.createElement("span",null,"Succeeded"),o.createElement("p",null,e.get("SUCCEEDED"))),o.createElement("div",null,o.createElement("span",null,"Stopped"),o.createElement("p",null,t))),o.createElement(r.K,{horizontal:!0,className:"status-count marginTop",tokens:be},o.createElement("div",null,o.createElement("span",null,"Failed"),o.createElement("p",null,e.get("FAILED"))),o.createElement("div",null,o.createElement("span",null,"Waiting"),o.createElement("p",null,e.get("WAITING"))))),o.createElement("div",{style:ve},o.createElement(ce.Provider,{value:{title:oe.Nn,field:"maxTrialNumber",editType:oe.Jw[1],maxExecDuration:"",maxTrialNum:l.O.maxTrialNumber,trialConcurrency:l.O.profile.params.trialConcurrency,updateOverviewPage:c}},o.createElement("div",{className:"maxTrialNum"},o.createElement(ye,null))),o.createElement("div",{className:"concurrency"},o.createElement(ce.Provider,{value:{title:"Concurrency",field:"trialConcurrency",editType:oe.Jw[2],maxExecDuration:"",maxTrialNum:l.O.maxTrialNumber,trialConcurrency:l.O.profile.params.trialConcurrency,updateOverviewPage:c}},o.createElement(ye,null))))))}))},Se=()=>{const e=l.O.profile.params.tuner,t=l.O.profile.params.advisor,n=l.O.profile.params.assessor,i=[],r=[];return void 0!==e&&(i.push("Tuner"),r.push(e.name||e.className||"unknown")),void 0!==t&&(i.push("Advisor"),r.push(t.name||t.className||"unknown")),void 0!==n&&(i.push("Assessor"),r.push(n.name||n.className||"unknown")),o.createElement("div",{className:"basic",style:ve},o.createElement("div",null,o.createElement("p",{className:"command"},"Training platform"),o.createElement("div",{className:"ellipsis"},l.O.trainingServicePlatform),o.createElement("p",{className:"lineMargin"},i.join("/")),o.createElement("div",{className:"ellipsis"},r.join("/"))))},Ne=()=>o.createElement("div",{className:"basic",style:fe},o.createElement("p",{className:"command"},"Log directory"),o.createElement("div",{className:"ellipsis"},o.createElement(q.G,{content:l.O.profile.logDir||"unknown",className:"ellipsis",directionalHint:V.b.bottomCenter,tooltipProps:{calloutProps:{styles:{beak:{background:oe.he},beakCurtain:{background:oe.he},calloutMain:{background:oe.he}}}}},l.O.profile.logDir||"unknown")),o.createElement("p",{className:"lineMargin"},"Trial command"),o.createElement("div",{className:"ellipsis"},o.createElement(q.G,{content:l.O.config.trialCommand||"unknown",className:"ellipsis",directionalHint:V.b.bottomCenter,tooltipProps:{calloutProps:{styles:{beak:{background:oe.he},beakCurtain:{background:oe.he},calloutMain:{background:oe.he}}}}},l.O.config.trialCommand||"unknown")));var xe=n(60545);n(68638),n(4928);const Te=o.createContext({bestAccuracy:0});class we extends o.Component{static contextType=m.I;constructor(e){super(e),this.state={trialConcurrency:l.O.trialConcurrency}}clickMaxTop=e=>{e.stopPropagation();const{changeMetricGraphMode:t}=this.context;t("max")};clickMinTop=e=>{e.stopPropagation();const{changeMetricGraphMode:t}=this.context;t("min")};updateEntries=(e,t)=>{void 0!==t&&this.context.changeEntries(t.key)};render(){const e=this.findBestTrials(),t=e.length>0?e[0].accuracy:NaN,n=l.O.profile.execDuration;return o.createElement(m.I.Consumer,null,(i=>{const{metricGraphMode:m,bestTrialEntries:u,maxDurationUnit:p,expandRowIDs:h,updateOverviewPage:y,changeMaxDurationUnit:g,changeExpandRowIDs:f}=i,v="max"===m?"active":"",k="min"===m?"active":"";return o.createElement("div",{className:"overview"},o.createElement("div",{className:"overviewWrapper"},o.createElement("div",{className:"overviewBasicInfo"},o.createElement(xe.b.Provider,{value:{text:"Experiment",icon:"AutoRacing"}},o.createElement(d.D,null)),o.createElement(Te.Provider,{value:{bestAccuracy:t}},o.createElement(j,null))),o.createElement("div",{className:"duration"},o.createElement(xe.b.Provider,{value:{text:"Duration",icon:"Timer"}},o.createElement(d.D,null)),o.createElement(ge.Provider,{value:{maxExecDuration:l.O.maxExperimentDurationSeconds,execDuration:n,updateOverviewPage:y,maxDurationUnit:p,changeMaxDurationUnit:g}},o.createElement(ke,null))),o.createElement("div",{className:"trialCount"},o.createElement(xe.b.Provider,{value:{text:"Trial numbers",icon:"NumberSymbol"}},o.createElement(d.D,null)),o.createElement(ge.Provider,{value:{maxExecDuration:l.O.maxExperimentDurationSeconds,execDuration:n,updateOverviewPage:y,maxDurationUnit:p,changeMaxDurationUnit:g}},o.createElement(Ce,null))),o.createElement("div",{className:"overviewBestMetric"},o.createElement(r.K,{horizontal:!0},o.createElement("div",{style:le},o.createElement(xe.b.Provider,{value:{text:"Top trials",icon:"BulletedList"}},o.createElement(d.D,null))),o.createElement("div",{className:"topTrialTitle"},o.createElement(r.K,{horizontal:!0,horizontalAlign:"end"},o.createElement(a.a,{onClick:this.clickMaxTop,className:v,styles:{root:{minWidth:70,padding:0}}},o.createElement(s.J,{iconName:"Market"}),o.createElement("span",{className:"max"},"Max")),o.createElement("div",{className:"mincenter"},o.createElement(a.a,{onClick:this.clickMinTop,className:k,styles:{root:{minWidth:70,padding:0}}},o.createElement(s.J,{iconName:"MarketDown"}),o.createElement("span",{className:"max"},"Min"))),o.createElement("div",null,o.createElement(r.K,{horizontal:!0},o.createElement("div",{className:"chooseEntry"},"Display top"),o.createElement("div",null,o.createElement(c.L,{selectedKey:u,options:me,onChange:this.updateEntries,styles:{root:{width:70}}}))))))),o.createElement("div",{className:"overviewChart"},o.createElement(z.Z,{trialIds:e.map((e=>e.info.trialJobId)),chartHeight:300,hasBestCurve:!1,changeExpandRowIDs:f}),o.createElement(W,{trialIds:e.map((e=>e.info.trialJobId)),updateOverviewPage:y,expandRowIDs:h,changeExpandRowIDs:f}))),o.createElement(r.K,{className:"overviewCommand",horizontal:!0},o.createElement(Ne,null),o.createElement(Se,null))))}))}findBestTrials(){const e=l.F.sort(),{bestTrialEntries:t,metricGraphMode:n}=this.context;return"max"===n?e.reverse().splice(JSON.parse(t)):e.splice(JSON.parse(t)),e}}var Pe=we},71888:function(e,t,n){n.d(t,{D:function(){return c}});var i=n(16449),o=n(49627),r=n(87578),a=n(89623),s=n(60545);n(51864);(0,o.l)();const c=()=>i.createElement(s.b.Consumer,null,(e=>i.createElement(r.K,{horizontal:!0,className:"panelTitle"},i.createElement(a.J,{iconName:e.icon}),i.createElement("span",null,e.text))))},60545:function(e,t,n){n.d(t,{b:function(){return i}});const i=n(16449).createContext({text:"",icon:""})},67131:function(e,t,n){var i=n(16449),o=n(97391),r=n.n(o),a=n(4512),s=n.n(a),c=n(22379),l=n(93272),m=n(63700),d=n(41772);const u=({value:e,hideTooltip:t})=>{const n=(0,i.useRef)(null);return i.createElement("div",null,i.createElement(c.h,{iconProps:{iconName:"Copy"},styles:{icon:[{fontSize:l.TS.small}]},onClick:t=>{t.stopPropagation(),s()(e),n.current&&n.current.show(),setTimeout((()=>{null!==n.current&&n.current.dismiss()}),1e3)},onMouseDown:e=>{e.stopPropagation()},onMouseUp:e=>{e.stopPropagation()}}),i.createElement(m.G,{hidden:t,content:"Copied",componentRef:n,delay:0,tooltipProps:{calloutProps:{styles:{beak:{background:d.he},beakCurtain:{background:d.he},calloutMain:{background:d.he}}}}}))};u.propTypes={value:r().string.isRequired,hideTooltip:r().bool},t.Z=u},34494:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(16449),o=n(4512),r=n.n(o),a=n(87578),s=n(34487),c=n(39863),l=n(40487),m=n(12220),d=n(41772),u=n(30965),p=n(4671),h=n(31820);class y extends i.Component{constructor(e){super(e)}render(){const{eachLogpath:e,logName:t}=this.props,n=/^http/gi.test(e);return i.createElement("div",{className:"logpath"},i.createElement("span",{className:"logName"},t),n?i.createElement("a",{className:"logContent logHref",rel:"noopener noreferrer",href:e,target:"_blank"},e):i.createElement("span",{className:"logContent"},e))}}var g=y;class f extends i.Component{constructor(e){super(e)}render(){const{logString:e,id:t,logCollect:n}=this.props;return i.createElement("div",null,""===e?null:i.createElement("div",null,n?i.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:`${d.uQ}/trial_${t}.log`,style:{marginRight:10}},"Trial stdout"):i.createElement(g,{eachLogpath:e,logName:"Trial stdout:"})))}}var v=f;class k extends i.Component{constructor(e){super(e)}render(){const{logStr:e,id:t,logCollection:n}=this.props,o=-1!==e.indexOf(",");return i.createElement("div",null,i.createElement("div",null,o?i.createElement("div",null,n?i.createElement("div",null,i.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:`${d.uQ}/trial_${t}.log`,style:{marginRight:10}},"Trial stdout"),i.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.split(",")[1]},"NFS log")):i.createElement("div",null,i.createElement(g,{eachLogpath:e.split(",")[0],logName:"Trial stdout:"}),i.createElement(g,{eachLogpath:e.split(",")[1],logName:"Log on NFS:"}))):i.createElement(v,{logString:e,id:t,logCollect:n})))}}var E=k;class b extends i.Component{constructor(e){super(e)}render(){const{logStr:e}=this.props;return i.createElement("div",null,i.createElement(g,{eachLogpath:e,logName:"Log path:"}))}}var C=b,S=n(86151),N=n(73269),x=n(84244);n(38540);class T extends i.Component{constructor(e){super(e),this.state={panelInnerHeight:window.innerHeight}}setLogDrawerHeight=()=>{this.setState((()=>({panelInnerHeight:window.innerHeight,innerWidth:window.innerWidth})))};async componentDidMount(){window.addEventListener("resize",this.setLogDrawerHeight)}componentWillUnmount(){window.removeEventListener("resize",this.setLogDrawerHeight)}render(){const{hideConfigPanel:e,panelName:t,panelContent:n}=this.props,{panelInnerHeight:o}=this.state,r=(0,p.yG)(o);return i.createElement(a.K,null,i.createElement(N.s,{isOpen:!0,hasCloseButton:!1,isFooterAtBottom:!0,isLightDismiss:!0,onLightDismissClick:e},i.createElement("div",{className:"panel"},i.createElement("div",null,i.createElement("div",{className:"panelName"},t),i.createElement(x.ZP,{height:r,language:"json",theme:"vs-light",value:n,options:{minimap:{enabled:!1},readOnly:!0,automaticLayout:!0,wordWrap:"on"}})),i.createElement(l.K,{text:"Close",className:"configClose",onClick:e}))))}}var w=T;n(68638),n(78587);class P extends i.Component{constructor(e){super(e),this.state={typeInfo:"",info:"",isHidenInfo:!0,showRetiaParamPanel:!1}}hideMessageInfo=()=>{this.setState((()=>({isHidenInfo:!0})))};hideRetiaParam=()=>{this.setState((()=>({showRetiaParamPanel:!1})))};isshowRetiaParamPanel=()=>{this.setState((()=>({showRetiaParamPanel:!0})))};getCopyStatus=(e,t)=>{this.setState((()=>({info:e,typeInfo:t,isHidenInfo:!1}))),setTimeout(this.hideMessageInfo,2e3)};copyParams=e=>{const t=JSON.stringify((0,p.cJ)(e.description.parameters),null,4);r()(t)?this.getCopyStatus("Success copy parameters to clipboard in form of python dict !","success"):this.getCopyStatus("Failed !","error")};openTrialLog=e=>{window.open(`${d.zU}/trial-file/${this.props.trialId}/${e}`)};openModelOnnx=()=>{window.open(`/netron/index.html?url=${d.zU}/trial-file/${this.props.trialId}/model.onnx`)};render(){const{isHidenInfo:e,typeInfo:t,info:n,showRetiaParamPanel:o}=this.state,r=this.props.trialId,y=u.F.getTrial(r),g=y.info.logPath||"This trial's log path is not available.",f=y.description.parameters,v=d.qp in f;return i.createElement(a.K,{className:"openRow"},i.createElement(a.K,{className:"openRowContent"},i.createElement(s.o,null,i.createElement(c.M,{headerText:"Parameters",key:"1",itemIcon:"TestParameter"},void 0!==y.info.hyperParameters?i.createElement(a.K,{id:"description"},i.createElement(a.K,{className:"bgHyper"},i.createElement(h.Z,{hideRoot:!0,shouldExpandNode:()=>!0,getItemString:()=>null,data:(0,p.cJ)(f)})),i.createElement(a.K,{horizontal:!0,className:"copy"},i.createElement(l.K,{onClick:this.copyParams.bind(this,y),text:"Copy as json",styles:{root:{width:128,marginRight:10}}}),v&&i.createElement(m.a,{onClick:this.isshowRetiaParamPanel,text:"Original parameters"}),!e&&i.createElement(S.Z,{typeInfo:t,info:n}),o&&i.createElement(w,{hideConfigPanel:this.hideRetiaParam,panelName:"Retiarii parameters",panelContent:JSON.stringify(f,null,2)}))):i.createElement(a.K,{className:"logpath"},i.createElement("span",{className:"logName"},"Error: "),i.createElement("span",{className:"error"},"This trial's parameters are not available.'"))),i.createElement(c.M,{headerText:"Log",key:"2",itemIcon:"M365InvoicingLogo"},"local"!==u.O.trainingServicePlatform?i.createElement(E,{logStr:g,id:r,logCollection:u.O.logCollectionEnabled}):i.createElement("div",null,i.createElement(C,{logStr:g,id:r}),i.createElement("div",{id:"trialog"},i.createElement("div",{className:"copy",style:{marginTop:15}},i.createElement(l.K,{onClick:this.openTrialLog.bind(this,"trial.log"),text:"View trial log"}),i.createElement(l.K,{onClick:this.openTrialLog.bind(this,"stderr"),text:"View trial error",styles:{root:{marginLeft:15}}}),i.createElement(l.K,{onClick:this.openTrialLog.bind(this,"stdout"),text:"View trial stdout",styles:{root:{marginLeft:15}}}))))),u.O.metadata.tag.includes("retiarii")?i.createElement(c.M,{headerText:"Visualization",key:"3",itemIcon:"FlowChart"},i.createElement("div",{id:"visualization"},i.createElement("div",{id:"visualizationText"},"Visualize models with 3rd-party tools."),i.createElement(l.K,{onClick:this.openModelOnnx.bind(this),text:"Netron",styles:{root:{marginLeft:15}}}))):null)))}}var _=P},54088:function(e,t,n){var i=n(16449),o=n(87578),r=n(23270),a=n(78800),s=n(30965),c=n(4671);n(76088),n(38570),n(21258);const l={grid:{left:"8%"},xAxis:{name:"Trial",type:"category"},yAxis:{name:"Default metric",type:"value"}};class m extends i.Component{constructor(e){super(e),this.state={bestCurveEnabled:!1,startY:0,endY:100}}loadDefault=(e,t)=>{this.setState({bestCurveEnabled:t})};metricDataZoom=e=>{void 0!==e.batch&&this.setState((()=>({startY:null!==e.batch[0].start?e.batch[0].start:0,endY:null!==e.batch[0].end?e.batch[0].end:100})))};pointClick=e=>{const{hasBestCurve:t}=this.props;t||this.props.changeExpandRowIDs(e.data[2],"chart")};generateGraphConfig(e){const{startY:t,endY:n}=this.state,{hasBestCurve:i}=this.props;return{grid:{left:"8%"},tooltip:{trigger:"item",enterable:i,confine:!0,formatter:e=>`\n                    <div class="tooldetailAccuracy">\n                        <div>Trial No.: ${e.data[0]}</div>\n                        <div>Trial ID: ${e.data[2]}</div>\n                        <div>Default metric: ${e.data[1]}</div>\n                        <div>Parameters: <pre>${JSON.stringify((0,c.cJ)(e.data[3]),null,4)}</pre></div>\n                    </div>\n                `},dataZoom:[{id:"dataZoomY",type:"inside",yAxisIndex:[0],filterMode:"empty",start:t,end:n}],xAxis:{name:"Trial",type:"category"},yAxis:{name:"Default metric",type:"value",scale:!0},series:void 0}}generateScatterSeries(e){return{symbolSize:6,type:"scatter",data:e.map((e=>[e.sequenceId,e.accuracy,e.id,e.description.parameters]))}}generateBestCurveSeries(e){let t=e[0];const n=[[t.sequenceId,t.accuracy,t.id,t.description.parameters]];for(let i=1;i<e.length;i++){const o=e[i],r=o.accuracy-t.accuracy;("minimize"===s.O.optimizeMode?r<0:r>0)?(n.push([o.sequenceId,o.accuracy,t.id,o.description.parameters]),t=o):n.push([o.sequenceId,t.accuracy,t.id,o.description.parameters])}return{type:"line",lineStyle:{color:"#FF6600"},data:n}}render(){const{hasBestCurve:e,chartHeight:t}=this.props,n=this.generateGraph(),s=n===l?"No data":"",c={dataZoom:this.metricDataZoom,click:this.pointClick};return i.createElement("div",null,e&&i.createElement(o.K,{horizontalAlign:"end",className:"default-metric"},i.createElement(r.Z,{label:"Optimization curve",inlineLabel:!0,onChange:this.loadDefault})),i.createElement("div",{className:"default-metric-graph graph"},i.createElement(a.Z,{option:n,style:{width:"100%",height:t,margin:"0 auto"},theme:"nni_theme",notMerge:!0,onEvents:c}),i.createElement("div",{className:"default-metric-noData"},s)))}generateGraph(){const e=s.F.getTrials(this.props.trialIds).filter((e=>e.sortable));if(0===e.length)return l;const t=this.generateGraphConfig(e[e.length-1].sequenceId);return this.state.bestCurveEnabled?t.series=[this.generateBestCurveSeries(e),this.generateScatterSeries(e)]:t.series=[this.generateScatterSeries(e)],t}}t.Z=m},49330:function(){},4928:function(){},78587:function(){},68638:function(){},51864:function(){},35931:function(){}}]);
//# sourceMappingURL=925.05d80627.chunk.js.map