"use strict";(self.webpackChunkrichie_education=self.webpackChunkrichie_education||[]).push([[74125],{74125:function(e,r,t){t.r(r),t.d(r,{default:function(){return Fe}}),t(80044),t(31807),t(26364),t(86632),t(61928),t(54883),t(45007),t(68995),t(18821),t(54994),t(4845),t(39275),t(3973),t(19701),t(80238),t(6208),t(12938),t(26425),t(10853);var n=t(89526),a=t(34323),o=(t(73214),t(67557)),i=function(e){var r=e.course,t=(0,a.YB)();return(0,o.jsx)("div",{className:"course-glimpse-footer",children:(0,o.jsxs)("div",{className:"course-glimpse-footer__date",children:[(0,o.jsx)("svg",{"aria-hidden":!0,role:"img",className:"icon",children:(0,o.jsx)("use",{xlinkHref:"#icon-calendar"})}),r.state.text.charAt(0).toUpperCase()+r.state.text.substr(1)+(r.state.datetime?" ".concat(t.formatDate(new Date(r.state.datetime),{year:"numeric",month:"short",day:"numeric"})):"")]})})};function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){c(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var u=(0,a.vU)({cover:{id:"components.CourseGlimpse.cover",defaultMessage:[{type:0,value:"Cover"}]}}),f=function(e){var r=e.context,t=e.course;return(0,o.jsxs)("a",{className:"course-glimpse course-glimpse--link",href:t.absolute_url,children:[(0,o.jsx)("div",{className:"course-glimpse__media",children:t.cover_image?(0,o.jsx)("img",{alt:"",sizes:t.cover_image.sizes,src:t.cover_image.src,srcSet:t.cover_image.srcset}):(0,o.jsx)("div",{className:"course-glimpse__media__empty",children:(0,o.jsx)(a._H,l({},u.cover))})}),(0,o.jsxs)("div",{className:"course-glimpse__content",children:[t.icon?(0,o.jsx)("div",{className:"course-glimpse__icon",children:(0,o.jsxs)("span",{className:"category-badge",children:[(0,o.jsx)("img",{alt:"",className:"category-badge__icon",sizes:t.icon.sizes,src:t.icon.src,srcSet:t.icon.srcset}),(0,o.jsx)("span",{className:"category-badge__title",children:t.icon.title})]})}):null,(0,o.jsxs)("div",{className:"course-glimpse__wrapper",children:[(0,o.jsx)("h3",{className:"course-glimpse__title",title:t.title,children:t.title}),t.organization_highlighted_cover_image?(0,o.jsx)("div",{className:"course-glimpse__organization-logo",children:(0,o.jsx)("img",{alt:"",sizes:t.organization_highlighted_cover_image.sizes,src:t.organization_highlighted_cover_image.src,srcSet:t.organization_highlighted_cover_image.srcset})}):null,(0,o.jsxs)("div",{className:"course-glimpse__metadata course-glimpse__metadata--organization",children:[(0,o.jsx)("svg",{"aria-hidden":!0,role:"img",className:"icon",children:(0,o.jsx)("use",{xlinkHref:"#icon-org"})}),(0,o.jsx)("span",{className:"title",title:t.organization_highlighted,children:t.organization_highlighted})]}),(0,o.jsxs)("div",{className:"course-glimpse__metadata course-glimpse__metadata--code",children:[(0,o.jsx)("svg",{"aria-hidden":!0,role:"img",className:"icon",children:(0,o.jsx)("use",{xlinkHref:"#icon-barcode"})}),(0,o.jsx)("span",{children:t.code||"-"})]})]}),(0,o.jsx)(i,{context:r,course:t})]})]})},p=function(e,r){return e.context===r.context&&e.course.id===r.course.id},d=(0,n.memo)(f,p);function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach((function(r){y(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function y(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var g=(0,a.vU)({courseCount:{id:"components.CourseGlimpseList.courseCount",defaultMessage:[{type:0,value:"Showing "},{type:2,style:null,value:"start"},{type:0,value:" to "},{type:2,style:null,value:"end"},{type:0,value:" of "},{type:2,style:null,value:"courseCount"},{type:0,value:" "},{type:6,pluralType:"cardinal",value:"courseCount",offset:0,options:{one:{value:[{type:0,value:"course"}]},other:{value:[{type:0,value:"courses"}]}}},{type:0,value:" matching your search"}]}}),v=function(e){var r=e.context,t=e.courses,n=e.meta;return(0,o.jsxs)("div",{className:"course-glimpse-list",children:[(0,o.jsx)("div",{className:"course-glimpse-list__count",children:(0,o.jsx)(a._H,h(h({},g.courseCount),{},{values:{courseCount:n.total_count,end:n.offset+n.count,start:n.offset+1}}))}),t.map((function(e){return e&&(0,o.jsx)(d,{context:r,course:e},e.id)}))]})},b=(t(80174),t(47026));function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach((function(r){O(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function O(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var x=(0,a.vU)({currentlyReadingLastPageN:{id:"components.PaginateCourseSearch.currentlyReadingLastPageN",defaultMessage:[{type:0,value:"Currently reading last page "},{type:1,value:"page"}]},currentlyReadingPageN:{id:"components.PaginateCourseSearch.currentlyReadingPageN",defaultMessage:[{type:0,value:"Currently reading page "},{type:1,value:"page"}]},lastPageN:{id:"components.PaginateCourseSearch.lastPageN",defaultMessage:[{type:0,value:"Last page "},{type:1,value:"page"}]},nextPageN:{id:"components.PaginateCourseSearch.nextPageN",defaultMessage:[{type:0,value:"Next page "},{type:1,value:"page"}]},pageN:{id:"components.PaginateCourseSearch.pageN",defaultMessage:[{type:0,value:"Page "},{type:1,value:"page"}]},pagination:{id:"components.PaginateCourseSearch.pagination",defaultMessage:[{type:0,value:"Pagination"}]},previousPageN:{id:"components.PaginateCourseSearch.previousPageN",defaultMessage:[{type:0,value:"Previous page "},{type:1,value:"page"}]}}),P=function(e){var r=e.courseSearchTotalCount,t=(0,b.T)(),i=t.courseSearchParams,s=t.dispatchCourseSearchParamsUpdate,l=(0,a.YB)(),c=Number(i.limit),u=Number(i.offset)/c+1,f=Math.ceil(r/c);if(1===f)return null;var p=[1,u-2==3?u-3:-1,u-2,u-1,u,u+1,u+2,u+3===f-1?u+3:-1,f].filter((function(e){return e>0})).filter((function(e){return e<=f})).filter((function(e,r,t){return e!==t[r-1]}));return(0,o.jsx)("div",{className:"pagination",children:(0,o.jsx)("nav",{"aria-label":l.formatMessage(x.pagination),children:(0,o.jsx)("ul",{className:"pagination__list",children:p.map((function(e,r){return(0,o.jsxs)(n.Fragment,{children:[e>(p[r-1]||0)+1&&(0,o.jsx)("li",{className:"pagination__item pagination__item--placeholder",children:"..."}),e===u?(0,o.jsx)("li",{className:"pagination__item pagination__item--current",children:(0,o.jsxs)("span",{className:"pagination__page-number",children:[(0,o.jsx)("span",{className:"offscreen",children:e===f?(0,o.jsx)(a._H,_(_({},x.currentlyReadingLastPageN),{},{values:{page:e}})):(0,o.jsx)(a._H,_(_({},x.currentlyReadingPageN),{},{values:{page:e}}))}),(0,o.jsx)("span",{"aria-hidden":!0,children:1===e?(0,o.jsx)(a._H,_(_({},x.pageN),{},{values:{page:e}})):e})]})}):(0,o.jsx)("li",{className:"pagination__item",children:(0,o.jsxs)("button",{className:"pagination__page-number",onClick:function(){return s({offset:String((e-1)*c),type:b.Y.pageChange})},children:[(0,o.jsx)("span",{className:"offscreen",children:e===f?(0,o.jsx)(a._H,_(_({},x.lastPageN),{},{values:{page:e}})):e===u-1?(0,o.jsx)(a._H,_(_({},x.previousPageN),{},{values:{page:e}})):e===u+1?(0,o.jsx)(a._H,_(_({},x.nextPageN),{},{values:{page:e}})):(0,o.jsx)(a._H,_(_({},x.pageN),{},{values:{page:e}}))}),(0,o.jsx)("span",{"aria-hidden":!0,children:1===e?(0,o.jsx)(a._H,_(_({},x.pageN),{},{values:{page:e}})):e})]})})]},e)}))})})})},w=(t(19457),t(96900),t(18183),t(19985),t(55862),t(21496),t(32390),t(35054),t(5615)),S=(t(29897),t(30659)),N=t.n(S),C=["className","bodyOpenClassName","overlayClassName","children"];function A(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function E(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?A(Object(t),!0).forEach((function(r){M(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function M(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}var D=function(e){var r=e.className,t=e.bodyOpenClassName,a=e.overlayClassName,i=e.children,s=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,C),l=function(e){var r=e.base,t=e.classes;if(r&&t){if("object"===k(t))return E(E({},t),{},{base:r.concat(" ",t.base)});if("string"==typeof t&&t.trim())return r.concat(" ",t)}return r||t||void 0},c=(0,n.useMemo)((function(){var e=document.getElementById("modal-exclude");if(e)return e;throw new Error("Failed to get #modal-exclude to enable an accessible <ReactModal />.")}),[]);return(0,o.jsx)(N(),E(E({appElement:c,className:l({base:"modal",classes:r}),bodyOpenClassName:l({base:"has-opened-modal",classes:t}),overlayClassName:l({base:"modal__overlay",classes:a})},s),{},{children:i}))},I=t(38136),F=t(69701),R=t(95418),T=t(80042);function H(e,r,t,n,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void t(e)}s.done?r(l):Promise.resolve(l).then(n,a)}function U(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){H(o,n,a,i,s,"next",e)}function s(e){H(o,n,a,i,s,"throw",e)}i(void 0)}))}}function L(e){return q.apply(this,arguments)}function q(){return q=U(regeneratorRuntime.mark((function e(r){var t,n,a,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:R.e_,e.prev=1,e.next=4,fetch("/api/v1.0/".concat(r,"/?").concat((0,F.stringify)(t,{arrayFormat:"comma"})),{headers:{"Content-Type":"application/json"}});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Failed to get list from ".concat(r," search : ").concat(n.status,"."));case 7:return e.next=9,n.json();case 9:return a=e.sent,e.abrupt("return",{status:T.e.SUCCESS,content:a});case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",{status:T.e.FAILURE,error:e.t0});case 16:case"end":return e.stop()}}),e,null,[[1,13]])}))),q.apply(this,arguments)}var z=t(68919);function B(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function G(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?B(Object(t),!0).forEach((function(r){Y(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):B(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Y(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function $(e,r,t,n,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void t(e)}s.done?r(l):Promise.resolve(l).then(n,a)}function Q(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(e){if("string"==typeof e)return V(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?V(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var W=(0,a.vU)({closeButton:{id:"components.SearchFilterGroupModal.closeModal",defaultMessage:[{type:0,value:"Close modal"}]},error:{id:"components.SearchFilterGroupModal.error",defaultMessage:[{type:0,value:"There was an error while searching for "},{type:1,value:"filterName"},{type:0,value:"."}]},inputLabel:{id:"components.SearchFilterGroupModal.inputLabel",defaultMessage:[{type:0,value:"Search for filters to add"}]},inputPlaceholder:{id:"components.SearchFilterGroupModal.inputPlaceholder",defaultMessage:[{type:0,value:"Search in "},{type:1,value:"filterName"}]},loadingResults:{id:"components.SearchFilterGroupModal.loadingResults",defaultMessage:[{type:0,value:"Loading search results..."}]},loadMoreResults:{id:"components.SearchFilterGroupModal.loadMoreResults",defaultMessage:[{type:0,value:"Load more results"}]},modalTitle:{id:"components.SearchFilterGroupModal.modalTitle",defaultMessage:[{type:0,value:"Add filters for "},{type:1,value:"filterName"}]},moreOptionsButton:{id:"components.SearchFilterGroupModal.moreOptionsButton",defaultMessage:[{type:0,value:"More options"}]},queryTooShort:{id:"components.SearchFilterGroupModal.queryTooShort",defaultMessage:[{type:0,value:"Type at least 3 characters to start searching."}]}}),J=function(e){var r=e.filter,t=e.modalIsOpen,i=e.setModalIsOpen,s=(0,a.YB)(),l=Q((0,n.useState)(""),2),c=l[0],u=l[1],f=Q((0,n.useState)(null),2),p=f[0],d=f[1];(0,n.useEffect)((function(){t||(u(""),d(null))}),[t]);var m=(0,b.T)(),h=m.courseSearchParams,y=m.dispatchCourseSearchParamsUpdate,g=function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var t,n,a,o,i,s,l,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.pageParam,a=r.queryKey,o=Q(a,3),i=o[0],s=o[1],l=o[2],e.next=4,L(i,G(G({},n||R.e_),l?{query:l}:{}));case 4:if((c=e.sent).status!==T.e.FAILURE){e.next=7;break}return e.abrupt("return",d(W.error));case 7:return e.next=9,L("courses",G(G({},s),{},(Y(t={},"".concat(i,"_aggs"),c.content.objects.map((function(e){return e.id}))),Y(t,"scope","filters"),Y(t,"facet_sorting","name"),t)));case 9:if((u=e.sent).status!==T.e.FAILURE){e.next=12;break}return e.abrupt("return",d(W.error));case 12:return e.abrupt("return",{meta:c.content.meta,objects:u.content.filters[i].values});case 13:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){$(o,n,a,i,s,"next",e)}function s(e){$(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}(),v=(0,w.useInfiniteQuery)([r.name,h,c.length>2?c:""],g,{enabled:t,getNextPageParam:function(e){if(e){var r=e.meta.offset+e.meta.count;if(!(r>=e.meta.total_count))return{limit:R.e_.limit,offset:r}}}}),j=v.data,_=v.fetchNextPage,O=v.hasNextPage,x=v.isFetchingNextPage,P=v.status,S=(0,n.useRef)(null);(0,n.useEffect)((function(){var e;t&&(0,z.Lw)("(min-width: 992px)").matches&&(null===(e=S.current)||void 0===e||e.focus())}),[t]);var N=(0,n.useRef)(null);return function(e){var r=e.root,t=e.target,a=e.onIntersect,o=e.threshold,i=void 0===o?.99:o,s=e.rootMargin,l=void 0===s?"0px":s,c=e.enabled,u=void 0===c||c;(0,n.useEffect)((function(){if(u&&IntersectionObserver){var e=new IntersectionObserver((function(e){return e.forEach((function(e){return e.isIntersecting&&a()}))}),{root:null==r?void 0:r.current,rootMargin:l,threshold:i}),n=null==t?void 0:t.current;if(n)return e.observe(n),function(){e.unobserve(n)}}}),[t.current,u])}({target:N,onIntersect:_,enabled:!!O}),(0,o.jsxs)(n.Fragment,{children:[(0,o.jsxs)("button",{className:"modal__closeButton search-filter-group-modal__close",onClick:function(){return i(!1)},children:[(0,o.jsx)("span",{className:"offscreen",children:(0,o.jsx)(a._H,G({},W.closeButton))}),(0,o.jsx)("svg",{"aria-hidden":!0,role:"img",className:"icon modal__closeButton__icon search-filter-group-modal__close__icon",children:(0,o.jsx)("use",{xlinkHref:"#icon-cross"})})]}),(0,o.jsxs)("fieldset",{className:"search-filter-group-modal__form",children:[(0,o.jsx)("legend",{className:"search-filter-group-modal__form__title",children:(0,o.jsx)(a._H,G(G({},W.modalTitle),{},{values:{filterName:r.human_name}}))}),(0,o.jsx)("input",{"aria-label":s.formatMessage(W.inputLabel),className:"search-filter-group-modal__form__input",onChange:function(e){u(e.target.value)},placeholder:s.formatMessage(W.inputPlaceholder,{filterName:r.human_name}),ref:S}),p?(0,o.jsx)("div",{className:"search-filter-group-modal__form__error",children:(0,o.jsx)(a._H,G(G({},W.error),{},{values:{filterName:r.human_name}}))}):c.length>0&&c.length<3?(0,o.jsx)("div",{className:"search-filter-group-modal__form__error",children:(0,o.jsx)(a._H,G({},W.queryTooShort))}):"error"===P?(0,o.jsx)("div",{children:(0,o.jsx)(a._H,G(G({},W.error),{},{values:{filterName:r.human_name}}))}):["idle","loading"].includes(P)?(0,o.jsx)(I.$,{children:(0,o.jsx)(a._H,G({},W.loadingResults))}):(0,o.jsx)("ul",{className:"search-filter-group-modal__form__values",children:j.pages.map((function(e,t){return(0,o.jsx)(n.Fragment,{children:e.objects.map((function(e){return(0,o.jsx)("li",{className:"search-filter-group-modal__form__values__item",children:(0,o.jsxs)("button",{onClick:function(){y({filter:r,payload:e.key,type:b.Y.filterAdd}),i(!1)},children:[e.human_name," ","(".concat(e.count,")")]})},e.key)}))},t)}))})]}),O?(0,o.jsx)("button",{className:"search-filter-group-modal__more-results",onClick:function(){return _()},disabled:x,ref:N,children:(0,o.jsx)(a._H,G({},W.loadMoreResults))}):null]})},Z=function(e){var r=e.filter,t=Q((0,n.useState)(!1),2),i=t[0],s=t[1],l=(0,n.useMemo)((function(){var e=document.getElementById("modal-exclude");if(e)return e;throw new Error("Failed to get #modal-exclude to enable an accessible <ReactModal />.")}),[]);return(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)("button",{className:"search-filter-group-modal-button",onClick:function(){return s(!0)},children:(0,o.jsx)(a._H,G({},W.moreOptionsButton))}),(0,o.jsx)(D,{appElement:l,bodyOpenClassName:"has-search-filter-group-modal",className:"search-filter-group-modal modal--stretched",isOpen:i,onRequestClose:function(){return s(!1)},children:(0,o.jsx)(J,{filter:r,modalIsOpen:i,setModalIsOpen:s})})]})},K=function(e,r){var t=(0,b.T)(),n=t.courseSearchParams,a=t.dispatchCourseSearchParamsUpdate,o=(n[e.name]||[]).includes(r.key);return[o,function(){return a({filter:e,payload:r.key,type:o?b.Y.filterRemove:b.Y.filterAdd})}]};function X(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var ee=function(e){var r,t,n=e.filter,a=e.value,i=(r=K(n,a),t=2,function(e){if(Array.isArray(e))return e}(r)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw a}}return o}}(r,t)||function(e,r){if(e){if("string"==typeof e)return X(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?X(e,r):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],l=i[1];return(0,o.jsxs)("label",{className:"search-filter-value-leaf ".concat(s?"active":""," ").concat(0===a.count?"search-filter-value-leaf--disabled":""),children:[(0,o.jsx)("input",{checked:s,className:"search-filter-value-leaf__checkbox",disabled:0===a.count,onChange:l,type:"checkbox"}),(0,o.jsxs)("div",{className:"search-filter-value-leaf__content",children:[a.human_name," ",a.count||0===a.count?"(".concat(a.count,")"):""]})]})},re=function(e,r){return e.value.count===r.value.count},te=(0,n.memo)(ee,re),ne=(t(72975),t(33290),t(1760));function ae(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function oe(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ae(Object(t),!0).forEach((function(r){ie(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ae(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ie(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function se(e,r,t,n,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void t(e)}s.done?r(l):Promise.resolve(l).then(n,a)}function le(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){se(o,n,a,i,s,"next",e)}function s(e){se(o,n,a,i,s,"throw",e)}i(void 0)}))}}var ce=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=["courses",(0,F.stringify)(e)];return(0,w.useQuery)(t,le(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",L("courses",e));case 1:case"end":return r.stop()}}),r)}))),oe({keepPreviousData:!0},r))},ue=t(31478);function fe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function pe(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?fe(Object(t),!0).forEach((function(r){de(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fe(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function de(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function me(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(e){if("string"==typeof e)return he(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?he(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var ye=(0,a.vU)({ariaHideChildren:{id:"components.SearchFilterValueParent.ariaHideChildren",defaultMessage:[{type:0,value:"Hide additional filters for "},{type:1,value:"filterValueName"}]},ariaShowChildren:{id:"components.SearchFilterValueParent.ariaShowChildren",defaultMessage:[{type:0,value:"Show more filters for "},{type:1,value:"filterValueName"}]}}),ge=function(e){var r,t=e.filter,i=e.value,s=(0,a.YB)(),l=(0,b.T)().courseSearchParams,c=l[t.name]||[],u="string"==typeof c?[c]:c,f=(0,ne.aj)(i.key),p=new RegExp(f),d=u.some((function(e){return p.test(e)})),m=me((0,n.useState)(null),2),h=m[0],y=m[1],g=null!==h?!!h:d,v=ce(pe(pe({},l),{},(de(r={},"".concat(t.name,"_children_aggs"),i.key),de(r,"scope","filters"),r)),{enabled:g,onSettled:function(e){(null==e?void 0:e.status)===T.e.FAILURE&&(0,ue.p)(new Error("Failed to get children filters for ".concat(t.name,"/").concat(i.key)))}}).data,j=(null==v?void 0:v.status)===T.e.SUCCESS?v.content.filters[t.name].values:[],_=me(K(t,i),2),O=_[0],x=_[1];return(0,o.jsxs)("div",{className:"search-filter-value-parent",children:[(0,o.jsxs)("div",{className:"search-filter-value-parent__self ".concat(O?"active":""),children:[(0,o.jsxs)("label",{className:"search-filter-value-parent__self__label ".concat(0===i.count?"search-filter-value-parent__self__label--disabled":""),children:[(0,o.jsx)("input",{checked:O,className:"search-filter-value-parent__self__label__checkbox",disabled:0===i.count,onChange:x,type:"checkbox"}),(0,o.jsxs)("div",{className:"search-filter-value-parent__self__label__content",children:[i.human_name," ",i.count||0===i.count?"(".concat(i.count,")"):""]})]}),(0,o.jsx)("button",{"aria-label":s.formatMessage(g?ye.ariaHideChildren:ye.ariaShowChildren,{filterValueName:i.human_name}),"aria-pressed":g,className:"search-filter-value-parent__self__unfold ".concat(g&&"search-filter-value-parent__self__unfold--open"),onClick:function(){return y(!g)},children:g?"-":"+"})]}),g&&(0,o.jsx)("div",{className:"search-filter-value-parent__children",children:j.map((function(e){return(0,o.jsx)(te,{filter:t,value:e},e.key)}))})]})},ve=function(e){var r=e.filter;return(0,o.jsxs)("fieldset",{className:"search-filter-group",children:[(0,o.jsx)("legend",{className:"search-filter-group__title",children:r.human_name}),(0,o.jsx)("div",{className:"search-filter-group__list",children:r.values.map((function(e){return e.key.startsWith("P-")?(0,o.jsx)(ge,{filter:r,value:e},e.key):(0,o.jsx)(te,{filter:r,value:e},e.key)}))}),r.has_more_values&&r.is_searchable?(0,o.jsx)(Z,{filter:r}):null]})},be=["filters"];function je(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _e(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?je(Object(t),!0).forEach((function(r){Oe(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):je(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Oe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function xe(e,r){if(e){if("string"==typeof e)return Pe(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Pe(e,r):void 0}}function Pe(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var we=(0,a.vU)({clearFilters:{id:"components.SearchFiltersPane.clearFilters",defaultMessage:[{type:0,value:"Clear "},{type:2,style:null,value:"activeFilterCount"},{type:0,value:" active "},{type:6,pluralType:"cardinal",value:"activeFilterCount",offset:0,options:{one:{value:[{type:0,value:"filter"}]},other:{value:[{type:0,value:"filters"}]}}}]},filter:{id:"components.SearchFiltersPane.title",defaultMessage:[{type:0,value:"Filter courses"}]}}),Se=function(e){var r,t,n=e.filters,i=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,be),s=n&&Object.values(n),l=(0,b.T)(),c=l.courseSearchParams,u=l.dispatchCourseSearchParamsUpdate,f=Object.entries(c).filter((function(e){var r,t,n=(r=e,t=1,function(e){if(Array.isArray(e))return e}(r)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw a}}return o}}(r,t)||xe(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return!Object.keys(R.e_).includes(n)})).map((function(e){return e[1]})).filter((function(e){return!!e})),p=(r=[]).concat.apply(r,(t=f,function(e){if(Array.isArray(e))return Pe(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||xe(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).length;return(0,o.jsxs)("div",_e(_e({className:"search-filters-pane"},i),{},{children:[(0,o.jsx)("h2",{className:"search-filters-pane__title",children:(0,o.jsx)(a._H,_e({},we.filter))}),(0,o.jsx)("button",{className:"search-filters-pane__clear ".concat(p?"":"search-filters-pane__clear--hidden"),tabIndex:0,onClick:function(){return u({type:b.Y.filterReset})},children:(0,o.jsx)(a._H,_e(_e({},we.clearFilters),{},{values:{activeFilterCount:p}}))}),s&&s.map((function(e){return(0,o.jsx)(ve,{filter:e},e.name)}))]}))},Ne=t(23357),Ce=["query"];function Ae(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Ee(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Ae(Object(t),!0).forEach((function(r){Me(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ae(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Me(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ke(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(e){if("string"==typeof e)return De(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?De(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Ie=(0,a.vU)({errorMessage:{id:"components.Search.errorMessage",defaultMessage:[{type:0,value:"Something's wrong! Courses could not be loaded."}]},hideFiltersPane:{id:"components.Search.hideFiltersPane",defaultMessage:[{type:0,value:"Hide filters pane"}]},showFiltersPane:{id:"components.Search.showFiltersPane",defaultMessage:[{type:0,value:"Show filters pane"}]},spinnerText:{id:"components.Search.spinnerText",defaultMessage:[{type:0,value:"Loading search results..."}]},textQueryLengthWarning:{id:"components.Search.textQueryLengthWarning",defaultMessage:[{type:0,value:"Text search requires at least 3 characters. "},{type:1,value:"query"},{type:0,value:" is not long enough to search. Search results will not be affected by this query."}]}}),Fe=function(e){var r=e.context,t=(0,b.T)(),i=t.courseSearchParams,s=t.lastDispatchActions,l=i.query,c=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(i,Ce),u=ce(l&&l.length<3?c:i).data,f=(0,Ne.Z)("(min-width: 992px)"),p=ke((0,n.useState)(!1),2),d=p[0],m=p[1],h=ke((0,n.useState)("control-".concat(Math.random())),1)[0];return(0,n.useEffect)((function(){s&&null!=s&&s.every((function(e){return e.type!==b.Y.queryUpdate}))&&(0,z.AR)({behavior:"smooth",top:0})}),[u]),(0,o.jsxs)("div",{className:"search",children:[(0,o.jsxs)("div",{className:"search__filters ".concat(!f&&d?"search__filters--active":""),children:[(0,o.jsx)(Se,{"aria-hidden":!f&&!d,filters:(null==u?void 0:u.status)===T.e.SUCCESS?u.content.filters:null,id:h}),!f&&(0,o.jsx)("button",{"aria-expanded":d,"aria-controls":h,className:"search__filters__toggle",onClick:function(){return m(!d)},children:d?(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)("svg",{"aria-hidden":!0,role:"img",className:"icon search__filters__toggle__icon",children:(0,o.jsx)("use",{xlinkHref:"#icon-cross"})})," ",(0,o.jsx)("span",{className:"offscreen",children:(0,o.jsx)(a._H,Ee({},Ie.hideFiltersPane))})]}):(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)("svg",{"aria-hidden":!0,role:"img",className:"icon search__filters__toggle__icon",children:(0,o.jsx)("use",{xlinkHref:"#icon-filter"})}),(0,o.jsx)("span",{className:"offscreen",children:(0,o.jsx)(a._H,Ee({},Ie.showFiltersPane))})]})})]}),(0,o.jsxs)("div",{className:"search__results",children:[u&&u.status===T.e.SUCCESS?(0,o.jsxs)(n.Fragment,{children:[l&&l.length<3?(0,o.jsx)("div",{className:"banner banner--rounded banner--warning",children:(0,o.jsx)("p",{className:"banner__message",children:(0,o.jsx)(a._H,Ee(Ee({},Ie.textQueryLengthWarning),{},{values:{query:(0,o.jsxs)("b",{children:['"',l,'"']})}}))})}):null,(0,o.jsx)(v,{context:r,courses:u.content.objects,meta:u.content.meta}),(0,o.jsx)(P,{courseSearchTotalCount:u.content.meta.total_count})]}):u&&u.status===T.e.FAILURE?(0,o.jsxs)("div",{className:"search__results__error",children:[(0,o.jsx)("svg",{"aria-hidden":!0,role:"img",children:(0,o.jsx)("use",{xlinkHref:"#icon-search-fail"})}),(0,o.jsx)("p",{children:(0,o.jsx)(a._H,Ee({},Ie.errorMessage))})]}):(0,o.jsx)(I.$,{size:"large",children:(0,o.jsx)(a._H,Ee({},Ie.spinnerText))}),!f&&(0,o.jsx)("div",{"aria-hidden":!0,className:"search__results__overlay ".concat(d?"search__results__overlay--visible":""),onClick:function(){return m(!1)}})]})]})}},47026:function(e,r,t){t.d(r,{Y:function(){return f},T:function(){return v}}),t(54994),t(19701),t(10853),t(193),t(39275),t(23528),t(55862),t(3973),t(80044),t(26364),t(80238),t(6208),t(12938),t(26425),t(86632),t(61928),t(54883),t(45007),t(68995),t(18821),t(4845);var n=t(69701),a=t(89526),o=t(60696),i=t(95418),s=t(68919),l=t(1760);function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var f,p=function(e,r){var t,n,a,o;return r.isDrilldown?(n={},u(n,f.filterAdd,(function(){return r.payload})),u(n,f.filterRemove,(function(){return e===r.payload?void 0:e||void 0})),n)[r.action]():e?"string"==typeof e?(o={},u(o,f.filterAdd,(function(){return e===r.payload?[e]:(0,l.wE)(e,r.payload)||(0,l.J2)(e,r.payload)?[r.payload]:[e,r.payload]})),u(o,f.filterRemove,(function(){return e===r.payload?void 0:e})),o)[r.action]():(t={},u(t,f.filterAdd,(function(){return[].concat(function(e){if(Array.isArray(e))return c(e)}(t=e.filter((function(e){return e!==r.payload&&!(0,l.wE)(e,r.payload)&&!(0,l.J2)(e,r.payload)})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,r){if(e){if("string"==typeof e)return c(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[r.payload]);var t})),u(t,f.filterRemove,(function(){return 0===(t=e.filter((function(e){return e!==r.payload}))).length?void 0:t;var t})),t)[r.action]():(a={},u(a,f.filterAdd,(function(){return[r.payload]})),u(a,f.filterRemove,(function(){})),a)[r.action]()};function d(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach((function(r){y(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function y(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}!function(e){e.filterReset="FILTER_RESET",e.filterAdd="FILTER_ADD",e.filterRemove="FILTER_REMOVE",e.pageChange="PAGE_CHANGE",e.queryUpdate="QUERY_UPDATE"}(f||(f={}));var g=function(e,r){switch(r.type){case f.pageChange:return h(h({},e),{},{offset:r.offset});case f.queryUpdate:return h(h({},e),{},{offset:"0",query:r.query||void 0});case f.filterAdd:case f.filterRemove:return h(h({},e),{},y({offset:"0"},r.filter.name,p(e[r.filter.name],{action:r.type,isDrilldown:!!r.filter.is_drilldown,payload:r.payload})));case f.filterReset:return h(h({},i.e_),{},{limit:e.limit})}},v=function(){var e,r,t,l=(r=(0,o.k6)(),t=3,function(e){if(Array.isArray(e))return e}(r)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw a}}return o}}(r,t)||function(e,r){if(e){if("string"==typeof e)return d(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,r):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],u=l[1],f=l[2],p=c.state.data.params;return(0,a.useEffect)((function(){if(!p.limit||!p.offset){var e=h(h({},i.e_),p);f({name:"courseSearch",data:{params:e,lastDispatchActions:null}},"","".concat(s.xh.pathname,"?").concat((0,n.stringify)(e)))}}),[(0,n.stringify)(p)]),{courseSearchParams:p,dispatchCourseSearchParamsUpdate:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var a=r.reduce(g,p);(0,n.stringify)(a)!==(0,n.stringify)((0,n.parse)(s.xh.search))?u({name:"courseSearch",data:{params:a,lastDispatchActions:r}},"","".concat(s.xh.pathname,"?").concat((0,n.stringify)(a))):f({name:"courseSearch",data:{params:a,lastDispatchActions:r}},"","".concat(s.xh.pathname,"?").concat((0,n.stringify)(a)))},lastDispatchActions:null===(e=c.state.data)||void 0===e?void 0:e.lastDispatchActions}}},1760:function(e,r,t){t.d(r,{wE:function(){return a},J2:function(){return o},aj:function(){return i}}),t(39275),t(75668),t(21496);var n=function(e){return e.length%4==2&&!!e.match(/[P,L]-[0-9A-Z]{4,}/)},a=function(e,r){return n(e)&&n(r)&&r.substr(2).startsWith(e.substr(2))},o=function(e,r){return a(r,e)},i=function(e){if(!n(e))throw new Error("".concat(e," is not an MPTT path, cannot build a children path matcher."));return".-".concat(e.substr(2),".{4,}")}},23357:function(e,r,t){t(26364),t(86632),t(10853),t(61928),t(54883),t(45007),t(68995),t(18821),t(54994),t(4845),t(39275);var n=t(89526),a=t(68919);function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}r.Z=function(e){var r,t,i=(0,n.useMemo)((function(){return(0,a.Lw)(e)}),[e]),s=(r=(0,n.useState)(i.matches),t=2,function(e){if(Array.isArray(e))return e}(r)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw a}}return o}}(r,t)||function(e,r){if(e){if("string"==typeof e)return o(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,r):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],c=s[1],u=(0,n.useCallback)((function(e){return c(e.matches)}),[c]);return(0,n.useEffect)((function(){return i.addListener(u),function(){i.removeListener(u)}}),[i]),l}}}]);
//# sourceMappingURL=74125.4f4eb49d3dc5af92a293.index.js.map