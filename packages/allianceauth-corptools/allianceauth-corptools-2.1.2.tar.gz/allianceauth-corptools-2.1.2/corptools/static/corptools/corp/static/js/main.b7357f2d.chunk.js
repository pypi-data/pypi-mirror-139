(this["webpackJsonpcorp-frontend"]=this["webpackJsonpcorp-frontend"]||[]).push([[0],{164:function(e,t,r){},235:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(16),l=r.n(c),s=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,252)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,l=t.getTTFB;r(e),n(e),a(e),c(e),l(e)}))},i=r(29),o=r(247),u=r(250),d=r(48),j=r(121),b=r(65),f=r.n(b),p=r(79),v=r.n(p);function O(){return(O=Object(j.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/audit/api/corp/structures");case 2:return t=e.sent,console.log("get structures in api 1"),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}v.a.defaults.xsrfHeaderName="X-CSRFToken";var h=r(50),x=r(14),m=r(35),g=r(51),y=r(131),S=r(242),F=r(243),C=r(244),w=r(125),P=r(251),N=r(245),H=(r(164),r(4)),B={option:function(e){return Object(x.a)(Object(x.a)({},e),{},{color:"black"})}};function L(e){var t=e.column;t.filterValue,t.preFilteredRows,t.setFilter;return Object(H.jsx)(H.Fragment,{})}function k(e){var t=e.column,r=t.filterValue,n=t.preFilteredRows,a=t.setFilter,c=n.length;return Object(H.jsx)("input",{className:"form-control",value:r||"",onChange:function(e){a(e.target.value||void 0)},placeholder:"Search ".concat(c," records...")})}function z(e){var t=e.column,r=t.setFilter,n=t.filterValue,c=t.preFilteredRows,l=t.id,s=a.a.useMemo((function(){var e=new Set;return c?(c.forEach((function(t){null!==t.values[l]&&("object"===typeof t.values[l]?e.add(t.values[l].name):e.add(t.values[l]))})),Object(i.a)(e.values())):[]}),[l,c]);return Object(H.jsx)(h.a,{title:n,onChange:function(e){return r(e.value)},value:{label:n||"All"},defaultValue:{label:"All"},styles:B,options:[{id:-1,value:"",label:"All"}].concat(s.map((function(e,t){return{id:t,value:e,label:e}})))},n)}var A=function(){return{}},T=function(e){var t=e.isLoading,r=e.data,n=e.error,c=e.columns,l=e.getRowProps,s=void 0===l?A:l,i=a.a.useMemo((function(){return{Filter:L}}),[]),o=a.a.useMemo((function(){return{text:function(e,t,r){return e.filter((function(e){return t.some((function(t){if(r){var n=e.values[t];return"object"===typeof n&&(n=n.name),!!n&&n.toLowerCase().includes(r.toLowerCase())}return!0}))}))}}}),[]),u=Object(g.useTable)({columns:c,data:r,defaultColumn:i,filterTypes:o,initialState:{pageSize:25}},g.useFilters,g.useSortBy,g.usePagination),d=u.getTableProps,j=u.getTableBodyProps,b=u.headerGroups,f=u.page,p=u.prepareRow,v=u.canPreviousPage,O=u.canNextPage,h=u.pageOptions,B=u.pageCount,k=u.gotoPage,z=u.nextPage,T=u.previousPage,_=u.setPageSize,R=u.state,M=R.pageIndex,V=R.pageSize;return t?Object(H.jsx)("div",{className:"col-xs-12 text-center",children:Object(H.jsx)(y.a,{className:"spinner-size"})}):n?Object(H.jsx)("div",{}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(S.a,{striped:!0,children:[Object(H.jsxs)("thead",Object(x.a)(Object(x.a)({},d()),{},{children:[b.map((function(e){return Object(H.jsx)("tr",Object(x.a)(Object(x.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(H.jsxs)("th",Object(x.a)(Object(x.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(H.jsx)("span",{className:"pull-right",children:e.canSort?e.isSorted?e.isSortedDesc?Object(H.jsx)(F.a,{glyph:"sort-by-attributes-alt"}):Object(H.jsx)(F.a,{glyph:"sort-by-attributes"}):Object(H.jsx)(F.a,{glyph:"sort"}):""})]}))}))}))})),b.map((function(e){return Object(H.jsx)("tr",Object(x.a)(Object(x.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(H.jsx)("th",Object(x.a)(Object(x.a)({},e.getHeaderProps()),{},{children:Object(H.jsx)("div",{children:e.canFilter?e.render("Filter"):null})}))}))}))}))]})),Object(H.jsx)("tbody",Object(x.a)(Object(x.a)({},j()),{},{children:f.map((function(e,t){return p(e),Object(H.jsx)("tr",Object(x.a)(Object(x.a)({},e.getRowProps(s(e))),{},{children:e.cells.map((function(e){return Object(H.jsx)("td",Object(x.a)(Object(x.a)({style:{verticalAlign:"middle"}},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}),Object(H.jsx)("div",{className:"pagination pull-right",children:Object(H.jsxs)(C.a,{children:[Object(H.jsxs)(w.a,{children:[Object(H.jsx)(m.a,{bsStyle:"success",onClick:function(){return k(0)},disabled:!v,children:Object(H.jsx)(F.a,{glyph:"step-backward"})})," ",Object(H.jsx)(m.a,{bsStyle:"success",onClick:function(){return T()},disabled:!v,children:Object(H.jsx)(F.a,{glyph:"triangle-left"})})," ",Object(H.jsx)(m.a,{bsStyle:"success",onClick:function(){return z()},disabled:!O,children:Object(H.jsx)(F.a,{glyph:"triangle-right"})})," ",Object(H.jsx)(m.a,{bsStyle:"success",onClick:function(){return k(B-1)},disabled:!O,children:Object(H.jsx)(F.a,{glyph:"step-forward"})})]}),Object(H.jsxs)(w.a,{children:[Object(H.jsx)(m.a,{active:!0,bsStyle:"success",children:"Page Size:"})," ",Object(H.jsx)(P.a,{bsStyle:"success",title:V,onSelect:function(e){_(Number(e))},children:[25,50,100,1e3].map((function(e){return Object(H.jsxs)(N.a,{eventKey:e,value:e,children:["Show ",e]})}))})]})]})}),Object(H.jsx)("div",{className:"pagination pull-left",children:Object(H.jsxs)(w.a,{children:[Object(H.jsx)(m.a,{active:!0,bsStyle:"info",children:Object(H.jsxs)(H.Fragment,{children:["Page"," ",Object(H.jsxs)("strong",{children:[M+1," of ",h.length]})]})})," "]})})]})},_=r(249),R=r(246),M=function(e){var t=e.corporation_id,r=e.size,n=void 0===r?256:r;return Object(H.jsx)(R.a,{src:"https://images.evetech.net/corporations/".concat(t,"/logo?size=").concat(n)})},V=function(e){var t=e.type_id,r=e.size,n=void 0===r?64:r;return Object(H.jsx)(R.a,{className:"img-circle",src:"https://images.evetech.net/types/".concat(t,"/icon?size=").concat(n)})},E=r(248),D=r(130);E.a.addDefaultLocale(D);var G=function(){var e=Object(d.useQuery)(["stuctures"],(function(){return function(){return O.apply(this,arguments)}()}),{initialData:[]}),t=e.isLoading,r=e.error,n=e.data,c=a.a.useMemo((function(){return function(e,t,r){var n=e.values[r],a=t.values[r];return null===n|null===a||n>a?1:-1}}),[]),l=a.a.useMemo((function(){return[{Header:"System",accessor:"location",Filter:z,filter:"text",Cell:function(e){return Object(H.jsx)("a",{href:"https://evemaps.dotlan.net/system/"+e.value.name.replace(" ","_"),children:e.value.name})}},{Header:"Structure",accessor:"name",Filter:k,filter:"text"},{Header:"Type",accessor:"type",disableSortBy:!0,Filter:z,filter:"text",Cell:function(e){return Object(H.jsxs)("div",{className:"flex-image-text",children:[Object(H.jsx)("div",{className:"pull-left",children:Object(H.jsx)(V,{type_id:e.value.id})}),Object(H.jsx)("div",{className:"pull-left",children:e.value.name})]})}},{Header:"Owner",accessor:"owner",disableSortBy:!0,Filter:function(e){var t=e.column,r=t.setFilter,n=t.filterValue,c=t.preFilteredRows,l=t.id,s=a.a.useMemo((function(){var e=new Set;return c?(c.forEach((function(t){null!==t.values[l]&&e.add(t.values[l].corporation_name)})),Object(i.a)(e.values())):[]}),[l,c]);return Object(H.jsx)(h.a,{title:n,onChange:function(e){return r(e.value)},value:{label:n||"All"},defaultValue:{label:"All"},styles:B,options:[{id:-1,value:"",label:"All"}].concat(s.map((function(e,t){return{id:t,value:e,label:e}})))},n)},filter:function(e,t,r){return e.filter((function(e){return t.some((function(t){if(r){var n=e.values[t].corporation_name;return!!n&&n.toLowerCase().includes(r.toLowerCase())}return!0}))}))},Cell:function(e){return Object(H.jsxs)("div",{className:"flex-image-text",children:[Object(H.jsx)("div",{className:"pull-left",children:Object(H.jsx)(M,{corporation_id:e.value.corporation_id,size:32})}),Object(H.jsx)("div",{className:"pull-left",children:e.value.corporation_name})]})}},{Header:"Fuel Expiry",accessor:"fuel_expiry",sortType:c,Cell:function(e){return Object(H.jsx)("div",{children:e.value?Object(H.jsx)(_.a,{date:e.value}):""})}},{Header:"State",accessor:"state",Filter:z,disableSortBy:!0,filter:"text"},{Header:"Services",accessor:"services",disableSortBy:!0,Filter:function(e){var t=e.column,r=t.setFilter,n=t.filterValue,c=t.preFilteredRows,l=t.id,s=a.a.useMemo((function(){var e=new Set;return c?(c.forEach((function(t){null!==t.values[l]&&t.values[l].forEach((function(t){e.add(t.name)}))})),Object(i.a)(e.values())):[]}),[l,c]);return Object(H.jsx)(h.a,{title:n,onChange:function(e){return r(e.value)},value:{label:n||"All"},defaultValue:{label:"All"},styles:B,options:[{id:-1,value:"",label:"All"}].concat(s.map((function(e,t){return{id:t,value:e,label:e}})))},n)},filter:function(e,t,r){return e.filter((function(e){return t.some((function(t){if(r){var n=e.values[t].reduce((function(e,t){return e+"  "+t.name}),"");return!!n&&n.toLowerCase().includes(r.toLowerCase())}return!0}))}))},Cell:function(e){return e.value?Object(H.jsx)("div",{className:"text-center",children:e.value.map((function(e){return Object(H.jsx)(o.a,{className:"padded-label",bsStyle:"online"===e.state?"primary":"danger",children:e.name})}))}):Object(H.jsx)(H.Fragment,{})}}]}),[c]);return Object(H.jsx)(u.a.Body,{children:Object(H.jsx)(T,{isLoading:t,data:n,columns:l,error:r})})},I=new d.QueryClient;l.a.render(Object(H.jsx)(a.a.StrictMode,{children:Object(H.jsxs)(d.QueryClientProvider,{client:I,children:[Object(H.jsx)("h1",{className:"text-center",children:"Structure Browser"}),Object(H.jsx)(u.a,{bsStyle:"default",children:Object(H.jsx)(u.a.Body,{children:Object(H.jsx)(G,{})})})]})}),document.getElementById("root")),s(console.log)}},[[235,1,2]]]);
//# sourceMappingURL=main.b7357f2d.chunk.js.map